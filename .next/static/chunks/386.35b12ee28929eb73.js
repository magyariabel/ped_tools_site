(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[386],{78752:function(n){/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */n.exports=function(n){return[...n].reduce((n,[e,r])=>(n[e]=r,n),{})}},33018:function(n,e,r){"use strict";var i=r(61289);function o(){}function a(){}a.resetWarningCache=o,n.exports=function(){function n(n,e,r,o,a,u){if(u!==i){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return n}n.isRequired=n;var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},74275:function(n,e,r){n.exports=r(33018)()},61289:function(n){"use strict";n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},67386:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return ox}});var i,o,a,u,s,l,c,h,f,d,p=r(2265);function g(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var i,o,a,u,s=[],l=!0,c=!1;try{if(a=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(n){c=!0,o=n}finally{try{if(!l&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw o}}return s}}(n,e)||y(n,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(n,e){if(n){if("string"==typeof n)return v(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if("Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(n,e)}}function v(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}var m=function(n,e){var r,i=new Set(e);return Object.assign.apply(Object,[{}].concat(function(n){if(Array.isArray(n))return v(n)}(r=Object.entries(n).filter(function(n){var e=g(n,1)[0];return!i.has(e)}).map(function(n){var e,r,i,o=g(n,2),a=o[0],u=o[1];return r={},(i="symbol"==typeof(e=function(n,e){if("object"!=typeof n||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var i=r.call(n,e||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(i=a,"string"))?e:String(e))in r?Object.defineProperty(r,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[i]=u,r}))||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(r)||y(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},_=r(78752);function b(n){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function x(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var i,o,a,u,s=[],l=!0,c=!1;try{if(a=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(n){c=!0,o=n}finally{try{if(!l&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw o}}return s}}(n,e)||k(n,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(n){return function(n){if(Array.isArray(n))return M(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||k(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(n,e){if(n){if("string"==typeof n)return M(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if("Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(n,e)}}function M(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function A(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.useEffect,r=(0,p.useRef)(),i=(0,p.useRef)(!1),o=(0,p.useRef)(!1),a=x((0,p.useState)(0),2);a[0];var u=a[1];i.current&&(o.current=!0),e(function(){return i.current||(r.current=n(),i.current=!0),u(function(n){return n+1}),function(){o.current&&r.current&&r.current()}},[])}function z(){}function S(n){return null==n?z:function(){return this.querySelector(n)}}function O(){return[]}function C(n){return null==n?O:function(){return this.querySelectorAll(n)}}function E(n){return function(){return this.matches(n)}}function P(n){return function(e){return e.matches(n)}}var N=Array.prototype.find;function T(){return this.firstElementChild}var j=Array.prototype.filter;function R(){return Array.from(this.children)}function D(n){return Array(n.length)}function I(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}function U(n,e,r,i,o,a){for(var u,s=0,l=e.length,c=a.length;s<c;++s)(u=e[s])?(u.__data__=a[s],i[s]=u):r[s]=new I(n,a[s]);for(;s<l;++s)(u=e[s])&&(o[s]=u)}function F(n,e,r,i,o,a,u){var s,l,c,h=new Map,f=e.length,d=a.length,p=Array(f);for(s=0;s<f;++s)(l=e[s])&&(p[s]=c=u.call(l,l.__data__,s,e)+"",h.has(c)?o[s]=l:h.set(c,l));for(s=0;s<d;++s)c=u.call(n,a[s],s,a)+"",(l=h.get(c))?(i[s]=l,l.__data__=a[s],h.delete(c)):r[s]=new I(n,a[s]);for(s=0;s<f;++s)(l=e[s])&&h.get(p[s])===l&&(o[s]=l)}function L(n){return n.__data__}function q(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}I.prototype={constructor:I,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var B="http://www.w3.org/1999/xhtml",$={svg:"http://www.w3.org/2000/svg",xhtml:B,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function H(n){var e=n+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=n.slice(0,r))&&(n=n.slice(r+1)),$.hasOwnProperty(e)?{space:$[e],local:n}:n}function V(n){return function(){this.removeAttribute(n)}}function G(n){return function(){this.removeAttributeNS(n.space,n.local)}}function X(n,e){return function(){this.setAttribute(n,e)}}function Y(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function W(n,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(n):this.setAttribute(n,r)}}function Z(n,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function Q(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function K(n){return function(){this.style.removeProperty(n)}}function J(n,e,r){return function(){this.style.setProperty(n,e,r)}}function tt(n,e,r){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function tn(n,e){return n.style.getPropertyValue(e)||Q(n).getComputedStyle(n,null).getPropertyValue(e)}function te(n){return function(){delete this[n]}}function tr(n,e){return function(){this[n]=e}}function ti(n,e){return function(){var r=e.apply(this,arguments);null==r?delete this[n]:this[n]=r}}function to(n){return n.trim().split(/^|\s+/)}function ta(n){return n.classList||new tu(n)}function tu(n){this._node=n,this._names=to(n.getAttribute("class")||"")}function ts(n,e){for(var r=ta(n),i=-1,o=e.length;++i<o;)r.add(e[i])}function tl(n,e){for(var r=ta(n),i=-1,o=e.length;++i<o;)r.remove(e[i])}function tc(n){return function(){ts(this,n)}}function th(n){return function(){tl(this,n)}}function tf(n,e){return function(){(e.apply(this,arguments)?ts:tl)(this,n)}}function td(){this.textContent=""}function tp(n){return function(){this.textContent=n}}function tg(n){return function(){var e=n.apply(this,arguments);this.textContent=null==e?"":e}}function ty(){this.innerHTML=""}function tv(n){return function(){this.innerHTML=n}}function tm(n){return function(){var e=n.apply(this,arguments);this.innerHTML=null==e?"":e}}function t_(){this.nextSibling&&this.parentNode.appendChild(this)}function tb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tx(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===B&&e.documentElement.namespaceURI===B?e.createElement(n):e.createElementNS(r,n)}}function tw(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function tk(n){var e=H(n);return(e.local?tw:tx)(e)}function tM(){return null}function tA(){var n=this.parentNode;n&&n.removeChild(this)}function tz(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function tS(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function tO(n){return function(){var e=this.__on;if(e){for(var r,i=0,o=-1,a=e.length;i<a;++i)(r=e[i],n.type&&r.type!==n.type||r.name!==n.name)?e[++o]=r:this.removeEventListener(r.type,r.listener,r.options);++o?e.length=o:delete this.__on}}}function tC(n,e,r){return function(){var i,o=this.__on,a=function(n){e.call(this,n,this.__data__)};if(o){for(var u=0,s=o.length;u<s;++u)if((i=o[u]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=e;return}}this.addEventListener(n.type,a,r),i={type:n.type,name:n.name,value:e,listener:a,options:r},o?o.push(i):this.__on=[i]}}function tE(n,e,r){var i=Q(n),o=i.CustomEvent;"function"==typeof o?o=new o(e,r):(o=i.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),n.dispatchEvent(o)}function tP(n,e){return function(){return tE(this,n,e)}}function tN(n,e){return function(){return tE(this,n,e.apply(this,arguments))}}tu.prototype={add:function(n){0>this._names.indexOf(n)&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var tT=[null];function tj(n,e){this._groups=n,this._parents=e}function tR(){return new tj([[document.documentElement]],tT)}function tD(n){return"string"==typeof n?new tj([[document.querySelector(n)]],[document.documentElement]):new tj([[n]],tT)}tj.prototype=tR.prototype={constructor:tj,select:function(n){"function"!=typeof n&&(n=S(n));for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o)for(var a,u,s=e[o],l=s.length,c=i[o]=Array(l),h=0;h<l;++h)(a=s[h])&&(u=n.call(a,a.__data__,h,s))&&("__data__"in a&&(u.__data__=a.__data__),c[h]=u);return new tj(i,this._parents)},selectAll:function(n){if("function"==typeof n){var e;e=n,n=function(){var n;return n=e.apply(this,arguments),null==n?[]:Array.isArray(n)?n:Array.from(n)}}else n=C(n);for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,h=0;h<c;++h)(s=l[h])&&(o.push(n.call(s,s.__data__,h,l)),a.push(s));return new tj(o,a)},selectChild:function(n){var e;return this.select(null==n?T:(e="function"==typeof n?n:P(n),function(){return N.call(this.children,e)}))},selectChildren:function(n){var e;return this.selectAll(null==n?R:(e="function"==typeof n?n:P(n),function(){return j.call(this.children,e)}))},filter:function(n){"function"!=typeof n&&(n=E(n));for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o)for(var a,u=e[o],s=u.length,l=i[o]=[],c=0;c<s;++c)(a=u[c])&&n.call(a,a.__data__,c,u)&&l.push(a);return new tj(i,this._parents)},data:function(n,e){if(!arguments.length)return Array.from(this,L);var r=e?F:U,i=this._parents,o=this._groups;"function"!=typeof n&&(_=n,n=function(){return _});for(var a=o.length,u=Array(a),s=Array(a),l=Array(a),c=0;c<a;++c){var h=i[c],f=o[c],d=f.length,p="object"==typeof(m=n.call(h,h&&h.__data__,c,i))&&"length"in m?m:Array.from(m),g=p.length,y=s[c]=Array(g),v=u[c]=Array(g);r(h,f,y,v,l[c]=Array(d),p,e);for(var m,_,b,x,w=0,k=0;w<g;++w)if(b=y[w]){for(w>=k&&(k=w+1);!(x=v[k])&&++k<g;);b._next=x||null}}return(u=new tj(u,i))._enter=s,u._exit=l,u},enter:function(){return new tj(this._enter||this._groups.map(D),this._parents)},exit:function(){return new tj(this._exit||this._groups.map(D),this._parents)},join:function(n,e,r){var i=this.enter(),o=this,a=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=e&&(o=e(o))&&(o=o.selection()),null==r?a.remove():r(a),i&&o?i.merge(o).order():o},merge:function(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,o=r.length,a=i.length,u=Math.min(o,a),s=Array(o),l=0;l<u;++l)for(var c,h=r[l],f=i[l],d=h.length,p=s[l]=Array(d),g=0;g<d;++g)(c=h[g]||f[g])&&(p[g]=c);for(;l<o;++l)s[l]=r[l];return new tj(s,this._parents)},selection:function(){return this},order:function(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i,o=n[e],a=o.length-1,u=o[a];--a>=0;)(i=o[a])&&(u&&4^i.compareDocumentPosition(u)&&u.parentNode.insertBefore(i,u),u=i);return this},sort:function(n){function e(e,r){return e&&r?n(e.__data__,r.__data__):!e-!r}n||(n=q);for(var r=this._groups,i=r.length,o=Array(i),a=0;a<i;++a){for(var u,s=r[a],l=s.length,c=o[a]=Array(l),h=0;h<l;++h)(u=s[h])&&(c[h]=u);c.sort(e)}return new tj(o,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length;o<a;++o){var u=i[o];if(u)return u}return null},size:function(){let n=0;for(let e of this)++n;return n},empty:function(){return!this.node()},each:function(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var o,a=e[r],u=0,s=a.length;u<s;++u)(o=a[u])&&n.call(o,o.__data__,u,a);return this},attr:function(n,e){var r=H(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==e?r.local?G:V:"function"==typeof e?r.local?Z:W:r.local?Y:X)(r,e))},style:function(n,e,r){return arguments.length>1?this.each((null==e?K:"function"==typeof e?tt:J)(n,e,null==r?"":r)):tn(this.node(),n)},property:function(n,e){return arguments.length>1?this.each((null==e?te:"function"==typeof e?ti:tr)(n,e)):this.node()[n]},classed:function(n,e){var r=to(n+"");if(arguments.length<2){for(var i=ta(this.node()),o=-1,a=r.length;++o<a;)if(!i.contains(r[o]))return!1;return!0}return this.each(("function"==typeof e?tf:e?tc:th)(r,e))},text:function(n){return arguments.length?this.each(null==n?td:("function"==typeof n?tg:tp)(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?ty:("function"==typeof n?tm:tv)(n)):this.node().innerHTML},raise:function(){return this.each(t_)},lower:function(){return this.each(tb)},append:function(n){var e="function"==typeof n?n:tk(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(n,e){var r="function"==typeof n?n:tk(n),i=null==e?tM:"function"==typeof e?e:S(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(tA)},clone:function(n){return this.select(n?tS:tz)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,e,r){var i,o,a=(n+"").trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}}),u=a.length;if(arguments.length<2){var s=this.node().__on;if(s){for(var l,c=0,h=s.length;c<h;++c)for(i=0,l=s[c];i<u;++i)if((o=a[i]).type===l.type&&o.name===l.name)return l.value}return}for(i=0,s=e?tC:tO;i<u;++i)this.each(s(a[i],e,r));return this},dispatch:function(n,e){return this.each(("function"==typeof e?tN:tP)(n,e))},[Symbol.iterator]:function*(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&(yield i)}};var tI={value:()=>{}};function tU(){for(var n,e=0,r=arguments.length,i={};e<r;++e){if(!(n=arguments[e]+"")||n in i||/[\s.]/.test(n))throw Error("illegal type: "+n);i[n]=[]}return new tF(i)}function tF(n){this._=n}function tL(n,e,r){for(var i=0,o=n.length;i<o;++i)if(n[i].name===e){n[i]=tI,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=r&&n.push({name:e,value:r}),n}tF.prototype=tU.prototype={constructor:tF,on:function(n,e){var r,i=this._,o=(n+"").trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");if(r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),n&&!i.hasOwnProperty(n))throw Error("unknown type: "+n);return{type:n,name:e}}),a=-1,u=o.length;if(arguments.length<2){for(;++a<u;)if((r=(n=o[a]).type)&&(r=function(n,e){for(var r,i=0,o=n.length;i<o;++i)if((r=n[i]).name===e)return r.value}(i[r],n.name)))return r;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++a<u;)if(r=(n=o[a]).type)i[r]=tL(i[r],n.name,e);else if(null==e)for(r in i)i[r]=tL(i[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new tF(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var r,i,o=Array(r),a=0;a<r;++a)o[a]=arguments[a+2];if(!this._.hasOwnProperty(n))throw Error("unknown type: "+n);for(i=this._[n],a=0,r=i.length;a<r;++a)i[a].value.apply(e,o)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw Error("unknown type: "+n);for(var i=this._[n],o=0,a=i.length;o<a;++o)i[o].value.apply(e,r)}};let tq={passive:!1},tB={capture:!0,passive:!1};function t$(n){n.stopImmediatePropagation()}function tH(n){n.preventDefault(),n.stopImmediatePropagation()}function tV(n){var e=n.document.documentElement,r=tD(n).on("dragstart.drag",tH,tB);"onselectstart"in e?r.on("selectstart.drag",tH,tB):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function tG(n,e){var r=n.document.documentElement,i=tD(n).on("dragstart.drag",null);e&&(i.on("click.drag",tH,tB),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function tX(n){return((n=Math.exp(n))+1/n)/2}var tY=function n(e,r,i){function o(n,o){var a,u,s=n[0],l=n[1],c=n[2],h=o[0],f=o[1],d=o[2],p=h-s,g=f-l,y=p*p+g*g;if(y<1e-12)u=Math.log(d/c)/e,a=function(n){return[s+n*p,l+n*g,c*Math.exp(e*n*u)]};else{var v=Math.sqrt(y),m=(d*d-c*c+i*y)/(2*c*r*v),_=(d*d-c*c-i*y)/(2*d*r*v),b=Math.log(Math.sqrt(m*m+1)-m);u=(Math.log(Math.sqrt(_*_+1)-_)-b)/e,a=function(n){var i,o,a=n*u,h=tX(b),f=c/(r*v)*(h*(((i=Math.exp(2*(i=e*a+b)))-1)/(i+1))-((o=Math.exp(o=b))-1/o)/2);return[s+f*p,l+f*g,c*h/tX(e*a+b)]}}return a.duration=1e3*u*e/Math.SQRT2,a}return o.rho=function(e){var r=Math.max(.001,+e),i=r*r,o=i*i;return n(r,i,o)},o}(Math.SQRT2,2,4);function tW(n,e){if(n=function(n){let e;for(;e=n.sourceEvent;)n=e;return n}(n),void 0===e&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[n.clientX-o.left-e.clientLeft,n.clientY-o.top-e.clientTop]}}return[n.pageX,n.pageY]}var tZ,tQ,tK=0,tJ=0,t0=0,t1=0,t2=0,t5=0,t3="object"==typeof performance&&performance.now?performance:Date,t6="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function t8(){return t2||(t6(t4),t2=t3.now()+t5)}function t4(){t2=0}function t7(){this._call=this._time=this._next=null}function t9(n,e,r){var i=new t7;return i.restart(n,e,r),i}function nt(){t2=(t1=t3.now())+t5,tK=tJ=0;try{!function(){t8(),++tK;for(var n,e=tZ;e;)(n=t2-e._time)>=0&&e._call.call(void 0,n),e=e._next;--tK}()}finally{tK=0,function(){for(var n,e,r=tZ,i=1/0;r;)r._call?(i>r._time&&(i=r._time),n=r,r=r._next):(e=r._next,r._next=null,r=n?n._next=e:tZ=e);tQ=n,ne(i)}(),t2=0}}function nn(){var n=t3.now(),e=n-t1;e>1e3&&(t5-=e,t1=n)}function ne(n){!tK&&(tJ&&(tJ=clearTimeout(tJ)),n-t2>24?(n<1/0&&(tJ=setTimeout(nt,n-t3.now()-t5)),t0&&(t0=clearInterval(t0))):(t0||(t1=t3.now(),t0=setInterval(nn,1e3)),tK=1,t6(nt)))}function nr(n,e,r){var i=new t7;return e=null==e?0:+e,i.restart(r=>{i.stop(),n(r+e)},e,r),i}t7.prototype=t9.prototype={constructor:t7,restart:function(n,e,r){if("function"!=typeof n)throw TypeError("callback is not a function");r=(null==r?t8():+r)+(null==e?0:+e),this._next||tQ===this||(tQ?tQ._next=this:tZ=this,tQ=this),this._call=n,this._time=r,ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,ne())}};var ni=tU("start","end","cancel","interrupt"),no=[];function na(n,e,r,i,o,a){var u=n.__transition;if(u){if(r in u)return}else n.__transition={};!function(n,e,r){var i,o=n.__transition;function a(l){var c,h,f,d;if(1!==r.state)return s();for(c in o)if((d=o[c]).name===r.name){if(3===d.state)return nr(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",n,n.__data__,d.index,d.group),delete o[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",n,n.__data__,d.index,d.group),delete o[c])}if(nr(function(){3===r.state&&(r.state=4,r.timer.restart(u,r.delay,r.time),u(l))}),r.state=2,r.on.call("start",n,n.__data__,r.index,r.group),2===r.state){for(c=0,r.state=3,i=Array(f=r.tween.length),h=-1;c<f;++c)(d=r.tween[c].value.call(n,n.__data__,r.index,r.group))&&(i[++h]=d);i.length=h+1}}function u(e){for(var o=e<r.duration?r.ease.call(null,e/r.duration):(r.timer.restart(s),r.state=5,1),a=-1,u=i.length;++a<u;)i[a].call(n,o);5===r.state&&(r.on.call("end",n,n.__data__,r.index,r.group),s())}function s(){for(var i in r.state=6,r.timer.stop(),delete o[e],o)return;delete n.__transition}o[e]=r,r.timer=t9(function(n){r.state=1,r.timer.restart(a,r.delay,r.time),r.delay<=n&&a(n-r.delay)},0,r.time)}(n,r,{name:e,index:i,group:o,on:ni,tween:no,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function nu(n,e){var r=nl(n,e);if(r.state>0)throw Error("too late; already scheduled");return r}function ns(n,e){var r=nl(n,e);if(r.state>3)throw Error("too late; already running");return r}function nl(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw Error("transition not found");return r}function nc(n,e){var r,i,o,a=n.__transition,u=!0;if(a){for(o in e=null==e?null:e+"",a){if((r=a[o]).name!==e){u=!1;continue}i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete a[o]}u&&delete n.__transition}}function nh(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}var nf=180/Math.PI,nd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function np(n,e,r,i,o,a){var u,s,l;return(u=Math.sqrt(n*n+e*e))&&(n/=u,e/=u),(l=n*r+e*i)&&(r-=n*l,i-=e*l),(s=Math.sqrt(r*r+i*i))&&(r/=s,i/=s,l/=s),n*i<e*r&&(n=-n,e=-e,l=-l,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,n)*nf,skewX:Math.atan(l)*nf,scaleX:u,scaleY:s}}function ng(n,e,r,i){function o(n){return n.length?n.pop()+" ":""}return function(a,u){var s,l,c,h,f=[],d=[];return a=n(a),u=n(u),!function(n,i,o,a,u,s){if(n!==o||i!==a){var l=u.push("translate(",null,e,null,r);s.push({i:l-4,x:nh(n,o)},{i:l-2,x:nh(i,a)})}else(o||a)&&u.push("translate("+o+e+a+r)}(a.translateX,a.translateY,u.translateX,u.translateY,f,d),(s=a.rotate)!==(l=u.rotate)?(s-l>180?l+=360:l-s>180&&(s+=360),d.push({i:f.push(o(f)+"rotate(",null,i)-2,x:nh(s,l)})):l&&f.push(o(f)+"rotate("+l+i),(c=a.skewX)!==(h=u.skewX)?d.push({i:f.push(o(f)+"skewX(",null,i)-2,x:nh(c,h)}):h&&f.push(o(f)+"skewX("+h+i),!function(n,e,r,i,a,u){if(n!==r||e!==i){var s=a.push(o(a)+"scale(",null,",",null,")");u.push({i:s-4,x:nh(n,r)},{i:s-2,x:nh(e,i)})}else(1!==r||1!==i)&&a.push(o(a)+"scale("+r+","+i+")")}(a.scaleX,a.scaleY,u.scaleX,u.scaleY,f,d),a=u=null,function(n){for(var e,r=-1,i=d.length;++r<i;)f[(e=d[r]).i]=e.x(n);return f.join("")}}}var ny=ng(function(n){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?nd:np(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),nv=ng(function(n){return null==n?nd:(d||(d=document.createElementNS("http://www.w3.org/2000/svg","g")),d.setAttribute("transform",n),n=d.transform.baseVal.consolidate())?np((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):nd},", ",")",")");function nm(n,e){var r,i;return function(){var o=ns(this,n),a=o.tween;if(a!==r){i=r=a;for(var u=0,s=i.length;u<s;++u)if(i[u].name===e){(i=i.slice()).splice(u,1);break}}o.tween=i}}function n_(n,e,r){var i,o;if("function"!=typeof r)throw Error();return function(){var a=ns(this,n),u=a.tween;if(u!==i){o=(i=u).slice();for(var s={name:e,value:r},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=s;break}l===c&&o.push(s)}a.tween=o}}function nb(n,e,r){var i=n._id;return n.each(function(){var n=ns(this,i);(n.value||(n.value={}))[e]=r.apply(this,arguments)}),function(n){return nl(n,i).value[e]}}function nx(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function nw(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function nk(){}var nM="\\s*([+-]?\\d+)\\s*",nA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nz="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nS=/^#([0-9a-f]{3,8})$/,nO=RegExp(`^rgb\\(${nM},${nM},${nM}\\)$`),nC=RegExp(`^rgb\\(${nz},${nz},${nz}\\)$`),nE=RegExp(`^rgba\\(${nM},${nM},${nM},${nA}\\)$`),nP=RegExp(`^rgba\\(${nz},${nz},${nz},${nA}\\)$`),nN=RegExp(`^hsl\\(${nA},${nz},${nz}\\)$`),nT=RegExp(`^hsla\\(${nA},${nz},${nz},${nA}\\)$`),nj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nR(){return this.rgb().formatHex()}function nD(){return this.rgb().formatRgb()}function nI(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=nS.exec(n))?(r=e[1].length,e=parseInt(e[1],16),6===r?nU(e):3===r?new nq(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?nF(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?nF(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=nO.exec(n))?new nq(e[1],e[2],e[3],1):(e=nC.exec(n))?new nq(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=nE.exec(n))?nF(e[1],e[2],e[3],e[4]):(e=nP.exec(n))?nF(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=nN.exec(n))?nX(e[1],e[2]/100,e[3]/100,1):(e=nT.exec(n))?nX(e[1],e[2]/100,e[3]/100,e[4]):nj.hasOwnProperty(n)?nU(nj[n]):"transparent"===n?new nq(NaN,NaN,NaN,0):null}function nU(n){return new nq(n>>16&255,n>>8&255,255&n,1)}function nF(n,e,r,i){return i<=0&&(n=e=r=NaN),new nq(n,e,r,i)}function nL(n,e,r,i){var o;return 1==arguments.length?((o=n)instanceof nk||(o=nI(o)),o)?(o=o.rgb(),new nq(o.r,o.g,o.b,o.opacity)):new nq:new nq(n,e,r,null==i?1:i)}function nq(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}function nB(){return`#${nG(this.r)}${nG(this.g)}${nG(this.b)}`}function n$(){let n=nH(this.opacity);return`${1===n?"rgb(":"rgba("}${nV(this.r)}, ${nV(this.g)}, ${nV(this.b)}${1===n?")":`, ${n})`}`}function nH(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function nV(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function nG(n){return((n=nV(n))<16?"0":"")+n.toString(16)}function nX(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new nW(n,e,r,i)}function nY(n){if(n instanceof nW)return new nW(n.h,n.s,n.l,n.opacity);if(n instanceof nk||(n=nI(n)),!n)return new nW;if(n instanceof nW)return n;var e=(n=n.rgb()).r/255,r=n.g/255,i=n.b/255,o=Math.min(e,r,i),a=Math.max(e,r,i),u=NaN,s=a-o,l=(a+o)/2;return s?(u=e===a?(r-i)/s+(r<i)*6:r===a?(i-e)/s+2:(e-r)/s+4,s/=l<.5?a+o:2-a-o,u*=60):s=l>0&&l<1?0:u,new nW(u,s,l,n.opacity)}function nW(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}function nZ(n){return(n=(n||0)%360)<0?n+360:n}function nQ(n){return Math.max(0,Math.min(1,n||0))}function nK(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}function nJ(n,e,r,i,o){var a=n*n,u=a*n;return((1-3*n+3*a-u)*e+(4-6*a+3*u)*r+(1+3*n+3*a-3*u)*i+u*o)/6}nx(nk,nI,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:nR,formatHex:nR,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return nY(this).formatHsl()},formatRgb:nD,toString:nD}),nx(nq,nL,nw(nk,{brighter(n){return n=null==n?1.4285714285714286:Math.pow(1.4285714285714286,n),new nq(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new nq(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new nq(nV(this.r),nV(this.g),nV(this.b),nH(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nB,formatHex:nB,formatHex8:function(){return`#${nG(this.r)}${nG(this.g)}${nG(this.b)}${nG((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:n$,toString:n$})),nx(nW,function(n,e,r,i){return 1==arguments.length?nY(n):new nW(n,e,r,null==i?1:i)},nw(nk,{brighter(n){return n=null==n?1.4285714285714286:Math.pow(1.4285714285714286,n),new nW(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new nW(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new nq(nK(n>=240?n-240:n+120,o,i),nK(n,o,i),nK(n<120?n+240:n-120,o,i),this.opacity)},clamp(){return new nW(nZ(this.h),nQ(this.s),nQ(this.l),nH(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let n=nH(this.opacity);return`${1===n?"hsl(":"hsla("}${nZ(this.h)}, ${100*nQ(this.s)}%, ${100*nQ(this.l)}%${1===n?")":`, ${n})`}`}}));var n0=n=>()=>n;function n1(n,e){var r=e-n;return r?function(e){return n+e*r}:n0(isNaN(n)?e:n)}var n2=function n(e){var r,i=1==(r=+(r=e))?n1:function(n,e){var i,o,a;return e-n?(i=n,o=e,i=Math.pow(i,a=r),o=Math.pow(o,a)-i,a=1/a,function(n){return Math.pow(i+n*o,a)}):n0(isNaN(n)?e:n)};function o(n,e){var r=i((n=nL(n)).r,(e=nL(e)).r),o=i(n.g,e.g),a=i(n.b,e.b),u=n1(n.opacity,e.opacity);return function(e){return n.r=r(e),n.g=o(e),n.b=a(e),n.opacity=u(e),n+""}}return o.gamma=n,o}(1);function n5(n){return function(e){var r,i,o=e.length,a=Array(o),u=Array(o),s=Array(o);for(r=0;r<o;++r)i=nL(e[r]),a[r]=i.r||0,u[r]=i.g||0,s[r]=i.b||0;return a=n(a),u=n(u),s=n(s),i.opacity=1,function(n){return i.r=a(n),i.g=u(n),i.b=s(n),i+""}}}n5(function(n){var e=n.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=n[i],a=n[i+1],u=i>0?n[i-1]:2*o-a,s=i<e-1?n[i+2]:2*a-o;return nJ((r-i/e)*e,u,o,a,s)}}),n5(function(n){var e=n.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),o=n[(i+e-1)%e],a=n[i%e],u=n[(i+1)%e],s=n[(i+2)%e];return nJ((r-i/e)*e,o,a,u,s)}});var n3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n6=RegExp(n3.source,"g");function n8(n,e){var r,i,o,a,u,s=n3.lastIndex=n6.lastIndex=0,l=-1,c=[],h=[];for(n+="",e+="";(o=n3.exec(n))&&(a=n6.exec(e));)(u=a.index)>s&&(u=e.slice(s,u),c[l]?c[l]+=u:c[++l]=u),(o=o[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,h.push({i:l,x:nh(o,a)})),s=n6.lastIndex;return s<e.length&&(u=e.slice(s),c[l]?c[l]+=u:c[++l]=u),c.length<2?h[0]?(r=h[0].x,function(n){return r(n)+""}):(i=e,function(){return i}):(e=h.length,function(n){for(var r,i=0;i<e;++i)c[(r=h[i]).i]=r.x(n);return c.join("")})}function n4(n,e){var r;return("number"==typeof e?nh:e instanceof nI?n2:(r=nI(e))?(e=r,n2):n8)(n,e)}function n7(n){return function(){this.removeAttribute(n)}}function n9(n){return function(){this.removeAttributeNS(n.space,n.local)}}function et(n,e,r){var i,o,a=r+"";return function(){var u=this.getAttribute(n);return u===a?null:u===i?o:o=e(i=u,r)}}function en(n,e,r){var i,o,a=r+"";return function(){var u=this.getAttributeNS(n.space,n.local);return u===a?null:u===i?o:o=e(i=u,r)}}function ee(n,e,r){var i,o,a;return function(){var u,s,l=r(this);return null==l?void this.removeAttribute(n):(u=this.getAttribute(n))===(s=l+"")?null:u===i&&s===o?a:(o=s,a=e(i=u,l))}}function er(n,e,r){var i,o,a;return function(){var u,s,l=r(this);return null==l?void this.removeAttributeNS(n.space,n.local):(u=this.getAttributeNS(n.space,n.local))===(s=l+"")?null:u===i&&s===o?a:(o=s,a=e(i=u,l))}}function ei(n,e){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e){this.setAttributeNS(n.space,n.local,o.call(this,e))}),r}return o._value=e,o}function eo(n,e){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e){this.setAttribute(n,o.call(this,e))}),r}return o._value=e,o}function ea(n,e){return function(){nu(this,n).delay=+e.apply(this,arguments)}}function eu(n,e){return e=+e,function(){nu(this,n).delay=e}}function es(n,e){return function(){ns(this,n).duration=+e.apply(this,arguments)}}function el(n,e){return e=+e,function(){ns(this,n).duration=e}}var ec=tR.prototype.constructor;function eh(n){return function(){this.style.removeProperty(n)}}var ef=0;function ed(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}var ep=tR.prototype;ed.prototype=(function(n){return tR().transition(n)}).prototype={constructor:ed,select:function(n){var e=this._name,r=this._id;"function"!=typeof n&&(n=S(n));for(var i=this._groups,o=i.length,a=Array(o),u=0;u<o;++u)for(var s,l,c=i[u],h=c.length,f=a[u]=Array(h),d=0;d<h;++d)(s=c[d])&&(l=n.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),f[d]=l,na(f[d],e,r,d,f,nl(s,r)));return new ed(a,this._parents,e,r)},selectAll:function(n){var e=this._name,r=this._id;"function"!=typeof n&&(n=C(n));for(var i=this._groups,o=i.length,a=[],u=[],s=0;s<o;++s)for(var l,c=i[s],h=c.length,f=0;f<h;++f)if(l=c[f]){for(var d,p=n.call(l,l.__data__,f,c),g=nl(l,r),y=0,v=p.length;y<v;++y)(d=p[y])&&na(d,e,r,y,p,g);a.push(p),u.push(l)}return new ed(a,u,e,r)},selectChild:ep.selectChild,selectChildren:ep.selectChildren,filter:function(n){"function"!=typeof n&&(n=E(n));for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o)for(var a,u=e[o],s=u.length,l=i[o]=[],c=0;c<s;++c)(a=u[c])&&n.call(a,a.__data__,c,u)&&l.push(a);return new ed(i,this._parents,this._name,this._id)},merge:function(n){if(n._id!==this._id)throw Error();for(var e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=Array(i),s=0;s<a;++s)for(var l,c=e[s],h=r[s],f=c.length,d=u[s]=Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;s<i;++s)u[s]=e[s];return new ed(u,this._parents,this._name,this._id)},selection:function(){return new ec(this._groups,this._parents)},transition:function(){for(var n=this._name,e=this._id,r=++ef,i=this._groups,o=i.length,a=0;a<o;++a)for(var u,s=i[a],l=s.length,c=0;c<l;++c)if(u=s[c]){var h=nl(u,e);na(u,n,r,c,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ed(i,this._parents,n,r)},call:ep.call,nodes:ep.nodes,node:ep.node,size:ep.size,empty:ep.empty,each:ep.each,on:function(n,e){var r,i,o,a=this._id;return arguments.length<2?nl(this.node(),a).on.on(n):this.each((o=(n+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||"start"===n})?nu:ns,function(){var u=o(this,a),s=u.on;s!==r&&(i=(r=s).copy()).on(n,e),u.on=i}))},attr:function(n,e){var r=H(n),i="transform"===r?nv:n4;return this.attrTween(n,"function"==typeof e?(r.local?er:ee)(r,i,nb(this,"attr."+n,e)):null==e?(r.local?n9:n7)(r):(r.local?en:et)(r,i,e))},attrTween:function(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw Error();var i=H(n);return this.tween(r,(i.local?ei:eo)(i,e))},style:function(n,e,r){var i,o,a,u,s,l,c,h,f,d,p,g,y,v,m,_,b,x,w,k,M,A="transform"==(n+="")?ny:n4;return null==e?this.styleTween(n,(i=n,function(){var n=tn(this,i),e=(this.style.removeProperty(i),tn(this,i));return n===e?null:n===o&&e===a?u:u=A(o=n,a=e)})).on("end.style."+n,eh(n)):"function"==typeof e?this.styleTween(n,(s=n,l=nb(this,"style."+n,e),function(){var n=tn(this,s),e=l(this),r=e+"";return null==e&&(this.style.removeProperty(s),r=e=tn(this,s)),n===r?null:n===c&&r===h?f:(h=r,f=A(c=n,e))})).each((d=this._id,b="end."+(_="style."+(p=n)),function(){var n=ns(this,d),e=n.on,r=null==n.value[_]?m||(m=eh(p)):void 0;(e!==g||v!==r)&&(y=(g=e).copy()).on(b,v=r),n.on=y})):this.styleTween(n,(x=n,M=e+"",function(){var n=tn(this,x);return n===M?null:n===w?k:k=A(w=n,e)}),r).on("end.style."+n,null)},styleTween:function(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw Error();return this.tween(i,function(n,e,r){var i,o;function a(){var a=e.apply(this,arguments);return a!==o&&(i=(o=a)&&function(e){this.style.setProperty(n,a.call(this,e),r)}),i}return a._value=e,a}(n,e,null==r?"":r))},text:function(n){var e,r;return this.tween("text","function"==typeof n?(e=nb(this,"text",n),function(){var n=e(this);this.textContent=null==n?"":n}):(r=null==n?"":n+"",function(){this.textContent=r}))},textTween:function(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw Error();return this.tween(e,function(n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(n){this.textContent=i.call(this,n)}),e}return i._value=n,i}(n))},remove:function(){var n;return this.on("end.remove",(n=this._id,function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}))},tween:function(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i,o=nl(this.node(),r).tween,a=0,u=o.length;a<u;++a)if((i=o[a]).name===n)return i.value;return null}return this.each((null==e?nm:n_)(r,n,e))},delay:function(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?ea:eu)(e,n)):nl(this.node(),e).delay},duration:function(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?es:el)(e,n)):nl(this.node(),e).duration},ease:function(n){var e=this._id;return arguments.length?this.each(function(n,e){if("function"!=typeof e)throw Error();return function(){ns(this,n).ease=e}}(e,n)):nl(this.node(),e).ease},easeVarying:function(n){var e;if("function"!=typeof n)throw Error();return this.each((e=this._id,function(){var r=n.apply(this,arguments);if("function"!=typeof r)throw Error();ns(this,e).ease=r}))},end:function(){var n,e,r=this,i=r._id,o=r.size();return new Promise(function(a,u){var s={value:u},l={value:function(){0==--o&&a()}};r.each(function(){var r=ns(this,i),o=r.on;o!==n&&((e=(n=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),r.on=e}),0===o&&a()})},[Symbol.iterator]:ep[Symbol.iterator]};var eg={time:null,delay:0,duration:250,ease:function(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};tR.prototype.interrupt=function(n){return this.each(function(){nc(this,n)})},tR.prototype.transition=function(n){var e,r;n instanceof ed?(e=n._id,n=n._name):(e=++ef,(r=eg).time=t8(),n=null==n?null:n+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u,s=i[a],l=s.length,c=0;c<l;++c)(u=s[c])&&na(u,n,e,c,s,r||function(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw Error(`transition ${e} not found`);return r}(u,e));return new ed(i,this._parents,n,e)};var ey=n=>()=>n;function ev(n,{sourceEvent:e,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function em(n,e,r){this.k=n,this.x=e,this.y=r}em.prototype={constructor:em,scale:function(n){return 1===n?this:new em(this.k*n,this.x,this.y)},translate:function(n,e){return 0===n&0===e?this:new em(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var e_=new em(1,0,0);function eb(n){for(;!n.__zoom;)if(!(n=n.parentNode))return e_;return n.__zoom}function ex(n){n.stopImmediatePropagation()}function ew(n){n.preventDefault(),n.stopImmediatePropagation()}function ek(n){return(!n.ctrlKey||"wheel"===n.type)&&!n.button}function eM(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n).hasAttribute("viewBox")?[[(n=n.viewBox.baseVal).x,n.y],[n.x+n.width,n.y+n.height]]:[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]:[[0,0],[n.clientWidth,n.clientHeight]]}function eA(){return this.__zoom||e_}function ez(n){return-n.deltaY*(1===n.deltaMode?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function eS(){return navigator.maxTouchPoints||"ontouchstart"in this}function eO(n,e,r){var i=n.invertX(e[0][0])-r[0][0],o=n.invertX(e[1][0])-r[1][0],a=n.invertY(e[0][1])-r[0][1],u=n.invertY(e[1][1])-r[1][1];return n.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}eb.prototype=em.prototype;var eC=n=>()=>n;function eE(n,{sourceEvent:e,subject:r,target:i,identifier:o,active:a,x:u,y:s,dx:l,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}function eP(n){return!n.ctrlKey&&!n.button}function eN(){return this.parentNode}function eT(n,e){return null==e?{x:n.x,y:n.y}:e}function ej(){return navigator.maxTouchPoints||"ontouchstart"in this}function eR(n,e){let r;if(void 0===e)for(let e of n)null!=e&&(r>e||void 0===r&&e>=e)&&(r=e);else{let i=-1;for(let o of n)null!=(o=e(o,++i,n))&&(r>o||void 0===r&&o>=o)&&(r=o)}return r}function eD(n,e){let r;if(void 0===e)for(let e of n)null!=e&&(r<e||void 0===r&&e>=e)&&(r=e);else{let i=-1;for(let o of n)null!=(o=e(o,++i,n))&&(r<o||void 0===r&&o>=o)&&(r=o)}return r}eE.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};var eI=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)},eU="object"==typeof global&&global&&global.Object===Object&&global,eF="object"==typeof self&&self&&self.Object===Object&&self,eL=eU||eF||Function("return this")(),eq=function(){return eL.Date.now()},eB=/\s/,e$=function(n){for(var e=n.length;e--&&eB.test(n.charAt(e)););return e},eH=/^\s+/,eV=eL.Symbol,eG=Object.prototype,eX=eG.hasOwnProperty,eY=eG.toString,eW=eV?eV.toStringTag:void 0,eZ=function(n){var e=eX.call(n,eW),r=n[eW];try{n[eW]=void 0;var i=!0}catch(n){}var o=eY.call(n);return i&&(e?n[eW]=r:delete n[eW]),o},eQ=Object.prototype.toString,eK=eV?eV.toStringTag:void 0,eJ=function(n){var e;return"symbol"==typeof n||null!=n&&"object"==typeof n&&"[object Symbol]"==(null==(e=n)?void 0===e?"[object Undefined]":"[object Null]":eK&&eK in Object(e)?eZ(e):eQ.call(e))},e0=0/0,e1=/^[-+]0x[0-9a-f]+$/i,e2=/^0b[01]+$/i,e5=/^0o[0-7]+$/i,e3=parseInt,e6=function(n){if("number"==typeof n)return n;if(eJ(n))return e0;if(eI(n)){var e,r="function"==typeof n.valueOf?n.valueOf():n;n=eI(r)?r+"":r}if("string"!=typeof n)return 0===n?n:+n;n=(e=n)?e.slice(0,e$(e)+1).replace(eH,""):e;var i=e2.test(n);return i||e5.test(n)?e3(n.slice(2),i?2:8):e1.test(n)?e0:+n},e8=Math.max,e4=Math.min,e7=function(n,e,r){var i,o,a,u,s,l,c=0,h=!1,f=!1,d=!0;if("function"!=typeof n)throw TypeError("Expected a function");function p(e){var r=i,a=o;return i=o=void 0,c=e,u=n.apply(a,r)}function g(n){var r=n-l,i=n-c;return void 0===l||r>=e||r<0||f&&i>=a}function y(){var n,r,i,o=eq();if(g(o))return v(o);s=setTimeout(y,(n=o-l,r=o-c,i=e-n,f?e4(i,a-r):i))}function v(n){return(s=void 0,d&&i)?p(n):(i=o=void 0,u)}function m(){var n,r=eq(),a=g(r);if(i=arguments,o=this,l=r,a){if(void 0===s)return c=n=l,s=setTimeout(y,e),h?p(n):u;if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return void 0===s&&(s=setTimeout(y,e)),u}return e=e6(e)||0,eI(r)&&(h=!!r.leading,a=(f="maxWait"in r)?e8(e6(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d),m.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=o=s=void 0},m.flush=function(){return void 0===s?u:v(eq())},m},e9=function(n,e,r){var i=!0,o=!0;if("function"!=typeof n)throw TypeError("Expected a function");return eI(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),e7(n,e,{leading:i,maxWait:e,trailing:o})},rt=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return 0===n?0:1===n?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return 0===n?0:1===n?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1}}),Back:Object.freeze({In:function(n){return 1===n?1:n*n*(2.70158*n-1.70158)},Out:function(n){return 0===n?0:--n*n*(2.70158*n+1.70158)+1},InOut:function(n){return(n*=2)<1?.5*(n*n*(3.5949095*n-2.5949095)):.5*((n-=2)*n*(3.5949095*n+2.5949095)+2)}}),Bounce:Object.freeze({In:function(n){return 1-rt.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?.5*rt.Bounce.In(2*n):.5*rt.Bounce.Out(2*n-1)+.5}}),generatePow:function(n){return void 0===n&&(n=4),n=(n=n<Number.EPSILON?Number.EPSILON:n)>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(2*e,n)/2:(1-Math.pow(2-2*e,n))/2+.5}}}}),rn=function(){return performance.now()},re=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(e){return n._tweens[e]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(n){this._tweens[n.getId()]=n,this._tweensAddedDuringUpdate[n.getId()]=n},n.prototype.remove=function(n){delete this._tweens[n.getId()],delete this._tweensAddedDuringUpdate[n.getId()]},n.prototype.update=function(n,e){void 0===n&&(n=rn()),void 0===e&&(e=!1);var r=Object.keys(this._tweens);if(0===r.length)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var o=this._tweens[r[i]],a=!e;o&&!1===o.update(n,a)&&!e&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),rr={Linear:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),a=rr.Utils.Linear;return e<0?a(n[0],n[1],i):e>1?a(n[r],n[r-1],r-i):a(n[o],n[o+1>r?r:o+1],i-o)},Bezier:function(n,e){for(var r=0,i=n.length-1,o=Math.pow,a=rr.Utils.Bernstein,u=0;u<=i;u++)r+=o(1-e,i-u)*o(e,u)*n[u]*a(i,u);return r},CatmullRom:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),a=rr.Utils.CatmullRom;return n[0]===n[r]?(e<0&&(o=Math.floor(i=r*(1+e))),a(n[(o-1+r)%r],n[o],n[(o+1)%r],n[(o+2)%r],i-o)):e<0?n[0]-(a(n[0],n[0],n[1],n[1],-i)-n[0]):e>1?n[r]-(a(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):a(n[o?o-1:0],n[o],n[r<o+1?r:o+1],n[r<o+2?r:o+2],i-o)},Utils:{Linear:function(n,e,r){return(e-n)*r+n},Bernstein:function(n,e){var r=rr.Utils.Factorial;return r(n)/r(e)/r(n-e)},Factorial:(i=[1],function(n){var e=1;if(i[n])return i[n];for(var r=n;r>1;r--)e*=r;return i[n]=e,e}),CatmullRom:function(n,e,r,i,o){var a=(r-n)*.5,u=(i-e)*.5,s=o*o;return(2*e-2*r+a+u)*(o*s)+(-3*e+3*r-2*a-u)*s+a*o+e}}},ri=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),ro=new re,ra=function(){function n(n,e){void 0===e&&(e=ro),this._object=n,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=rt.Linear.None,this._interpolationFunction=rr.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=ri.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(n,e){if(void 0===e&&(e=1e3),this._isPlaying)throw Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=e<0?0:e,this},n.prototype.duration=function(n){return void 0===n&&(n=1e3),this._duration=n<0?0:n,this},n.prototype.dynamic=function(n){return void 0===n&&(n=!1),this._isDynamic=n,this},n.prototype.start=function(n,e){if(void 0===n&&(n=rn()),void 0===e&&(e=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var r in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||e){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var o in this._valuesEnd)i[o]=this._valuesEnd[o];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,e)}return this},n.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},n.prototype._setupProperties=function(n,e,r,i,o){for(var a in r){var u=n[a],s=Array.isArray(u),l=s?"array":typeof u,c=!s&&Array.isArray(r[a]);if("undefined"!==l&&"function"!==l){if(c){var h=r[a];if(0===h.length)continue;for(var f=[u],d=0,p=h.length;d<p;d+=1){var g=this._handleRelativeValue(u,h[d]);if(isNaN(g)){c=!1,console.warn("Found invalid interpolation list. Skipping.");break}f.push(g)}c&&(r[a]=f)}if(("object"===l||s)&&u&&!c){for(var y in e[a]=s?[]:{},u)e[a][y]=u[y];i[a]=s?[]:{};var h=r[a];if(!this._isDynamic){var v={};for(var y in h)v[y]=h[y];r[a]=h=v}this._setupProperties(u,e[a],h,i[a],o)}else(void 0===e[a]||o)&&(e[a]=u),s||(e[a]*=1),c?i[a]=r[a].slice().reverse():i[a]=e[a]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying&&(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object)),this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(n){return void 0===n&&(n=rn()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=n,this._group&&this._group.remove(this)),this},n.prototype.resume=function(n){return void 0===n&&(n=rn()),this._isPaused&&this._isPlaying&&(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this)),this},n.prototype.stopChainedTweens=function(){for(var n=0,e=this._chainedTweens.length;n<e;n++)this._chainedTweens[n].stop();return this},n.prototype.group=function(n){return void 0===n&&(n=ro),this._group=n,this},n.prototype.delay=function(n){return void 0===n&&(n=0),this._delayTime=n,this},n.prototype.repeat=function(n){return void 0===n&&(n=0),this._initialRepeat=n,this._repeat=n,this},n.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},n.prototype.yoyo=function(n){return void 0===n&&(n=!1),this._yoyo=n,this},n.prototype.easing=function(n){return void 0===n&&(n=rt.Linear.None),this._easingFunction=n,this},n.prototype.interpolation=function(n){return void 0===n&&(n=rr.Linear),this._interpolationFunction=n,this},n.prototype.chain=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return this._chainedTweens=n,this},n.prototype.onStart=function(n){return this._onStartCallback=n,this},n.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},n.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},n.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},n.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},n.prototype.onStop=function(n){return this._onStopCallback=n,this},n.prototype.update=function(n,e){var r,i,o=this;if(void 0===n&&(n=rn()),void 0===e&&(e=!0),this._isPaused)return!0;var a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(n>a)return!1;e&&this.start(n,!0)}if(this._goToEnd=!1,n<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var u=n-this._startTime,s=this._duration+(null!==(r=this._repeatDelayTime)&&void 0!==r?r:this._delayTime),l=this._duration+this._repeat*s,c=function(){if(0===o._duration||u>l)return 1;var n=Math.trunc(u/s),e=Math.min((u-n*s)/o._duration,1);return 0===e&&u===o._duration?1:e}(),h=this._easingFunction(c);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,h),this._onUpdateCallback&&this._onUpdateCallback(this._object,c),0===this._duration||u>=this._duration){if(this._repeat>0){var f=Math.min(Math.trunc((u-this._duration)/s)+1,this._repeat);for(i in isFinite(this._repeat)&&(this._repeat-=f),this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[i]||(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];this._yoyo&&(this._reversed=!this._reversed),this._startTime+=s*f,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var d=0,p=this._chainedTweens.length;d<p;d++)this._chainedTweens[d].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}}return!0},n.prototype._updateProperties=function(n,e,r,i){for(var o in r)if(void 0!==e[o]){var a=e[o]||0,u=r[o],s=Array.isArray(n[o]),l=Array.isArray(u);!s&&l?n[o]=this._interpolationFunction(u,i):"object"==typeof u&&u?this._updateProperties(n[o],a,u,i):"number"==typeof(u=this._handleRelativeValue(a,u))&&(n[o]=a+(u-a)*i)}},n.prototype._handleRelativeValue=function(n,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?n+parseFloat(e):parseFloat(e)},n.prototype._swapEndStartRepeatValues=function(n){var e=this._valuesStartRepeat[n],r=this._valuesEnd[n];"string"==typeof r?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(r):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=e},n}();ri.nextId,ro.getAll.bind(ro),ro.removeAll.bind(ro),ro.add.bind(ro),ro.remove.bind(ro);var ru=ro.update.bind(ro);function rs(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,function(n){var e=function(n,e){if("object"!=typeof n||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var i=r.call(n,e||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==typeof e?e:String(e)}(i.key),i)}}function rl(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}var rc=(o=function n(e,r){var i=r.default,o=r.triggerUpdate,a=r.onChange;(function(n,e){if(!(n instanceof e))throw TypeError("Cannot call a class as a function")})(this,n),this.name=e,this.defaultVal=void 0===i?null:i,this.triggerUpdate=void 0===o||o,this.onChange=void 0===a?function(n,e){}:a},a&&rs(o.prototype,a),u&&rs(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o);function rh(n){var e=n.stateInit,r=void 0===e?function(){return{}}:e,i=n.props,o=void 0===i?{}:i,a=n.methods,u=void 0===a?{}:a,s=n.aliases,l=void 0===s?{}:s,c=n.init,h=void 0===c?function(){}:c,f=n.update,d=void 0===f?function(){}:f,p=Object.keys(o).map(function(n){return new rc(n,o[n])});return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},r instanceof Function?r(n):r,{initialised:!1}),i={};function o(e){return a(e,n),s(),o}var a=function(n,r){h.call(o,n,e,r),e.initialised=!0},s=e7(function(){e.initialised&&(d.call(o,e,i),i={})},1);return p.forEach(function(n){var r,a,u,l,c,h,f;o[n.name]=(r=n.name,u=void 0!==(a=n.triggerUpdate)&&a,c=void 0===(l=n.onChange)?function(n,e){}:l,f=void 0===(h=n.defaultVal)?null:h,function(n){var a=e[r];if(!arguments.length)return a;var l=void 0===n?f:n;return e[r]=l,c.call(o,l,e,a),i.hasOwnProperty(r)||(i[r]=a),u&&s(),o})}),Object.keys(u).forEach(function(n){o[n]=function(){for(var r,i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return(r=u[n]).call.apply(r,[o,e].concat(a))}}),Object.entries(l).forEach(function(n){var e=function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var i,o,a,u,s=[],l=!0,c=!1;try{if(a=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(n){c=!0,o=n}finally{try{if(!l&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw o}}return s}}(n,2)||function(n,e){if(n){if("string"==typeof n)return rl(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if("Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rl(n,e)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=e[0],i=e[1];return o[r]=o[i]}),o.resetProps=function(){return p.forEach(function(n){o[n.name](n.defaultVal)}),o},o.resetProps(),e._rerender=s,o}}var rf=function(n){return"function"==typeof n?n:"string"==typeof n?function(e){return e[n]}:function(e){return n}};function rd(n){return(rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var rp=/^\s+/,rg=/\s+$/;function ry(n,e){if(e=e||{},(n=n||"")instanceof ry)return n;if(!(this instanceof ry))return new ry(n,e);var r,i,o,a,u,s,l,c,h,f,d,p,g,y,v,m,_,b,x,w,k=(i={r:0,g:0,b:0},o=1,a=null,u=null,s=null,l=!1,c=!1,"string"==typeof(r=n)&&(r=function(n){n=n.replace(rp,"").replace(rg,"").toLowerCase();var e,r=!1;if(rT[n])n=rT[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};return(e=rB.rgb.exec(n))?{r:e[1],g:e[2],b:e[3]}:(e=rB.rgba.exec(n))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=rB.hsl.exec(n))?{h:e[1],s:e[2],l:e[3]}:(e=rB.hsla.exec(n))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=rB.hsv.exec(n))?{h:e[1],s:e[2],v:e[3]}:(e=rB.hsva.exec(n))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=rB.hex8.exec(n))?{r:rU(e[1]),g:rU(e[2]),b:rU(e[3]),a:rU(e[4])/255,format:r?"name":"hex8"}:(e=rB.hex6.exec(n))?{r:rU(e[1]),g:rU(e[2]),b:rU(e[3]),format:r?"name":"hex"}:(e=rB.hex4.exec(n))?{r:rU(e[1]+""+e[1]),g:rU(e[2]+""+e[2]),b:rU(e[3]+""+e[3]),a:rU(e[4]+""+e[4])/255,format:r?"name":"hex8"}:!!(e=rB.hex3.exec(n))&&{r:rU(e[1]+""+e[1]),g:rU(e[2]+""+e[2]),b:rU(e[3]+""+e[3]),format:r?"name":"hex"}}(r)),"object"==rd(r)&&(r$(r.r)&&r$(r.g)&&r$(r.b)?(h=r.r,f=r.g,d=r.b,i={r:255*rD(h,255),g:255*rD(f,255),b:255*rD(d,255)},l=!0,c="%"===String(r.r).substr(-1)?"prgb":"rgb"):r$(r.h)&&r$(r.s)&&r$(r.v)?(a=rL(r.s),u=rL(r.v),p=r.h,g=a,y=u,p=6*rD(p,360),g=rD(g,100),y=rD(y,100),v=Math.floor(p),m=p-v,_=y*(1-g),b=y*(1-m*g),x=y*(1-(1-m)*g),i={r:255*[y,b,_,_,x,y][w=v%6],g:255*[x,y,y,b,_,_][w],b:255*[_,_,x,y,y,b][w]},l=!0,c="hsv"):r$(r.h)&&r$(r.s)&&r$(r.l)&&(a=rL(r.s),s=rL(r.l),i=function(n,e,r){var i,o,a;function u(n,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?n+(e-n)*6*r:r<.5?e:r<2/3?n+(e-n)*(2/3-r)*6:n}if(n=rD(n,360),e=rD(e,100),r=rD(r,100),0===e)i=o=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;i=u(l,s,n+1/3),o=u(l,s,n),a=u(l,s,n-1/3)}return{r:255*i,g:255*o,b:255*a}}(r.h,a,s),l=!0,c="hsl"),r.hasOwnProperty("a")&&(o=r.a)),o=rR(o),{ok:l,format:r.format||c,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:o});this._originalInput=n,this._r=k.r,this._g=k.g,this._b=k.b,this._a=k.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||k.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=k.ok}function rv(n,e,r){var i,o,a=Math.max(n=rD(n,255),e=rD(e,255),r=rD(r,255)),u=Math.min(n,e,r),s=(a+u)/2;if(a==u)i=o=0;else{var l=a-u;switch(o=s>.5?l/(2-a-u):l/(a+u),a){case n:i=(e-r)/l+(e<r?6:0);break;case e:i=(r-n)/l+2;break;case r:i=(n-e)/l+4}i/=6}return{h:i,s:o,l:s}}function rm(n,e,r){var i,o=Math.max(n=rD(n,255),e=rD(e,255),r=rD(r,255)),a=Math.min(n,e,r),u=o-a;if(o==a)i=0;else{switch(o){case n:i=(e-r)/u+(e<r?6:0);break;case e:i=(r-n)/u+2;break;case r:i=(n-e)/u+4}i/=6}return{h:i,s:0===o?0:u/o,v:o}}function r_(n,e,r,i){var o=[rF(Math.round(n).toString(16)),rF(Math.round(e).toString(16)),rF(Math.round(r).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function rb(n,e,r,i){return[rF(rq(i)),rF(Math.round(n).toString(16)),rF(Math.round(e).toString(16)),rF(Math.round(r).toString(16))].join("")}function rx(n,e){e=0===e?0:e||10;var r=ry(n).toHsl();return r.s-=e/100,r.s=rI(r.s),ry(r)}function rw(n,e){e=0===e?0:e||10;var r=ry(n).toHsl();return r.s+=e/100,r.s=rI(r.s),ry(r)}function rk(n){return ry(n).desaturate(100)}function rM(n,e){e=0===e?0:e||10;var r=ry(n).toHsl();return r.l+=e/100,r.l=rI(r.l),ry(r)}function rA(n,e){e=0===e?0:e||10;var r=ry(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-(255*(e/100))))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-(255*(e/100))))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-(255*(e/100))))),ry(r)}function rz(n,e){e=0===e?0:e||10;var r=ry(n).toHsl();return r.l-=e/100,r.l=rI(r.l),ry(r)}function rS(n,e){var r=ry(n).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,ry(r)}function rO(n){var e=ry(n).toHsl();return e.h=(e.h+180)%360,ry(e)}function rC(n,e){if(isNaN(e)||e<=0)throw Error("Argument to polyad must be a positive number");for(var r=ry(n).toHsl(),i=[ry(n)],o=360/e,a=1;a<e;a++)i.push(ry({h:(r.h+a*o)%360,s:r.s,l:r.l}));return i}function rE(n){var e=ry(n).toHsl(),r=e.h;return[ry(n),ry({h:(r+72)%360,s:e.s,l:e.l}),ry({h:(r+216)%360,s:e.s,l:e.l})]}function rP(n,e,r){e=e||6,r=r||30;var i=ry(n).toHsl(),o=360/r,a=[ry(n)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,a.push(ry(i));return a}function rN(n,e){e=e||6;for(var r=ry(n).toHsv(),i=r.h,o=r.s,a=r.v,u=[],s=1/e;e--;)u.push(ry({h:i,s:o,v:a})),a=(a+s)%1;return u}ry.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(299*n.r+587*n.g+114*n.b)/1e3},getLuminance:function(){var n,e,r,i=this.toRgb();return n=i.r/255,.2126*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.7152*((e=i.g/255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*((r=i.b/255)<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(n){return this._a=rR(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=rm(this._r,this._g,this._b);return{h:360*n.h,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=rm(this._r,this._g,this._b),e=Math.round(360*n.h),r=Math.round(100*n.s),i=Math.round(100*n.v);return 1==this._a?"hsv("+e+", "+r+"%, "+i+"%)":"hsva("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var n=rv(this._r,this._g,this._b);return{h:360*n.h,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=rv(this._r,this._g,this._b),e=Math.round(360*n.h),r=Math.round(100*n.s),i=Math.round(100*n.l);return 1==this._a?"hsl("+e+", "+r+"%, "+i+"%)":"hsla("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(n){return r_(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){var e,r,i,o,a;return e=this._r,r=this._g,i=this._b,o=this._a,a=[rF(Math.round(e).toString(16)),rF(Math.round(r).toString(16)),rF(Math.round(i).toString(16)),rF(rq(o))],n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*rD(this._r,255))+"%",g:Math.round(100*rD(this._g,255))+"%",b:Math.round(100*rD(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*rD(this._r,255))+"%, "+Math.round(100*rD(this._g,255))+"%, "+Math.round(100*rD(this._b,255))+"%)":"rgba("+Math.round(100*rD(this._r,255))+"%, "+Math.round(100*rD(this._g,255))+"%, "+Math.round(100*rD(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(rj[r_(this._r,this._g,this._b,!0)]||!1)},toFilter:function(n){var e="#"+rb(this._r,this._g,this._b,this._a),r=e,i=this._gradientType?"GradientType = 1, ":"";if(n){var o=ry(n);r="#"+rb(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+r+")"},toString:function(n){var e=!!n;n=n||this._format;var r=!1,i=this._a<1&&this._a>=0;return!e&&i&&("hex"===n||"hex6"===n||"hex3"===n||"hex4"===n||"hex8"===n||"name"===n)?"name"===n&&0===this._a?this.toName():this.toRgbString():("rgb"===n&&(r=this.toRgbString()),"prgb"===n&&(r=this.toPercentageRgbString()),("hex"===n||"hex6"===n)&&(r=this.toHexString()),"hex3"===n&&(r=this.toHexString(!0)),"hex4"===n&&(r=this.toHex8String(!0)),"hex8"===n&&(r=this.toHex8String()),"name"===n&&(r=this.toName()),"hsl"===n&&(r=this.toHslString()),"hsv"===n&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ry(this.toString())},_applyModification:function(n,e){var r=n.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(rM,arguments)},brighten:function(){return this._applyModification(rA,arguments)},darken:function(){return this._applyModification(rz,arguments)},desaturate:function(){return this._applyModification(rx,arguments)},saturate:function(){return this._applyModification(rw,arguments)},greyscale:function(){return this._applyModification(rk,arguments)},spin:function(){return this._applyModification(rS,arguments)},_applyCombination:function(n,e){return n.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(rP,arguments)},complement:function(){return this._applyCombination(rO,arguments)},monochromatic:function(){return this._applyCombination(rN,arguments)},splitcomplement:function(){return this._applyCombination(rE,arguments)},triad:function(){return this._applyCombination(rC,[3])},tetrad:function(){return this._applyCombination(rC,[4])}},ry.fromRatio=function(n,e){if("object"==rd(n)){var r={};for(var i in n)n.hasOwnProperty(i)&&("a"===i?r[i]=n[i]:r[i]=rL(n[i]));n=r}return ry(n,e)},ry.equals=function(n,e){return!!n&&!!e&&ry(n).toRgbString()==ry(e).toRgbString()},ry.random=function(){return ry.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},ry.mix=function(n,e,r){r=0===r?0:r||50;var i=ry(n).toRgb(),o=ry(e).toRgb(),a=r/100;return ry({r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a})},ry.readability=function(n,e){var r=ry(n),i=ry(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)},ry.isReadable=function(n,e,r){var i,o,a,u,s,l=ry.readability(n,e);switch(s=!1,(o=((i=(i=r)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),a=(i.size||"small").toLowerCase(),"AA"!==o&&"AAA"!==o&&(o="AA"),"small"!==a&&"large"!==a&&(a="small"),u={level:o,size:a}).level+u.size){case"AAsmall":case"AAAlarge":s=l>=4.5;break;case"AAlarge":s=l>=3;break;case"AAAsmall":s=l>=7}return s},ry.mostReadable=function(n,e,r){var i,o,a,u,s=null,l=0;o=(r=r||{}).includeFallbackColors,a=r.level,u=r.size;for(var c=0;c<e.length;c++)(i=ry.readability(n,e[c]))>l&&(l=i,s=ry(e[c]));return ry.isReadable(n,s,{level:a,size:u})||!o?s:(r.includeFallbackColors=!1,ry.mostReadable(n,["#fff","#000"],r))};var rT=ry.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},rj=ry.hexNames=function(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}(rT);function rR(n){return(isNaN(n=parseFloat(n))||n<0||n>1)&&(n=1),n}function rD(n,e){"string"==typeof(r=n)&&-1!=r.indexOf(".")&&1===parseFloat(r)&&(n="100%");var r,i,o="string"==typeof(i=n)&&-1!=i.indexOf("%");return(n=Math.min(e,Math.max(0,parseFloat(n))),o&&(n=parseInt(n*e,10)/100),1e-6>Math.abs(n-e))?1:n%e/parseFloat(e)}function rI(n){return Math.min(1,Math.max(0,n))}function rU(n){return parseInt(n,16)}function rF(n){return 1==n.length?"0"+n:""+n}function rL(n){return n<=1&&(n=100*n+"%"),n}function rq(n){return Math.round(255*parseFloat(n)).toString(16)}var rB=(l="[\\s|\\(]+("+(s="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+s+")[,|\\s]+("+s+")\\s*\\)?",c="[\\s|\\(]+("+s+")[,|\\s]+("+s+")[,|\\s]+("+s+")[,|\\s]+("+s+")\\s*\\)?",{CSS_UNIT:new RegExp(s),rgb:RegExp("rgb"+l),rgba:RegExp("rgba"+c),hsl:RegExp("hsl"+l),hsla:RegExp("hsla"+c),hsv:RegExp("hsv"+l),hsva:RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function r$(n){return!!rB.CSS_UNIT.exec(n)}function rH(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}var rV=function(n,e,r){return(n<<16)+(e<<8)+r},rG=function(n){var e=ry(n).toRgb();return rV(e.r,e.g,e.b)},rX=function(n,e){return 123*n%Math.pow(2,e)},rY=(h=function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;(function(n,e){if(!(n instanceof e))throw TypeError("Cannot call a class as a function")})(this,n),this.csBits=e,this.registry=["__reserved for background__"]},f=[{key:"register",value:function(n){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var e,r=this.registry.length,i=rX(r,this.csBits),o=(e=r+(i<<24-this.csBits),"#".concat(Math.min(e,16777216).toString(16).padStart(6,"0")));return this.registry.push(n),o}},{key:"lookup",value:function(n){var e="string"==typeof n?rG(n):rV.apply(void 0,function(n){if(Array.isArray(n))return rH(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(n){if("string"==typeof n)return rH(n,e);var r=({}).toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rH(n,e):void 0}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());if(!e)return null;var r=e&Math.pow(2,24-this.csBits)-1,i=e>>24-this.csBits&Math.pow(2,this.csBits)-1;return rX(r,this.csBits)!==i||r>=this.registry.length?null:this.registry[r]}}],function(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,function(n){var e=function(n,e){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var i=r.call(n,e);if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n,"string");return"symbol"==typeof e?e:e+""}(i.key),i)}}(h.prototype,f),Object.defineProperty(h,"prototype",{writable:!1}),h);function rW(n){return n.x}function rZ(n){return n.y}function rQ(n){return n.z}var rK=Math.PI*(3-Math.sqrt(5)),rJ=20*Math.PI/(9+Math.sqrt(221));function r0(n){return function(){return n}}function r1(n){return(n()-.5)*1e-6}function r2(n){return n.index}function r5(n,e){var r=n.get(e);if(!r)throw Error("node not found: "+e);return r}function r3(n,e,r){if(isNaN(e))return n;var i,o,a,u,s,l,c=n._root,h={data:r},f=n._x0,d=n._x1;if(!c)return n._root=h,n;for(;c.length;)if((u=e>=(o=(f+d)/2))?f=o:d=o,i=c,!(c=c[s=+u]))return i[s]=h,n;if(e===(a=+n._x.call(null,c.data)))return h.next=c,i?i[s]=h:n._root=h,n;do i=i?i[s]=[,,]:n._root=[,,],(u=e>=(o=(f+d)/2))?f=o:d=o;while((s=+u)==(l=+(a>=o)));return i[l]=c,i[s]=h,n}function r6(n,e,r){this.node=n,this.x0=e,this.x1=r}function r8(n){return n[0]}function r4(n,e){var r=new r7(null==e?r8:e,NaN,NaN);return null==n?r:r.addAll(n)}function r7(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function r9(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var it=r4.prototype=r7.prototype;function ie(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var o,a,u,s,l,c,h,f,d,p=n._root,g={data:i},y=n._x0,v=n._y0,m=n._x1,_=n._y1;if(!p)return n._root=g,n;for(;p.length;)if((c=e>=(a=(y+m)/2))?y=a:m=a,(h=r>=(u=(v+_)/2))?v=u:_=u,o=p,!(p=p[f=h<<1|c]))return o[f]=g,n;if(s=+n._x.call(null,p.data),l=+n._y.call(null,p.data),e===s&&r===l)return g.next=p,o?o[f]=g:n._root=g,n;do o=o?o[f]=[,,,,]:n._root=[,,,,],(c=e>=(a=(y+m)/2))?y=a:m=a,(h=r>=(u=(v+_)/2))?v=u:_=u;while((f=h<<1|c)==(d=(l>=u)<<1|s>=a));return o[d]=p,o[f]=g,n}function ir(n,e,r,i,o){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=o}function ii(n){return n[0]}function io(n){return n[1]}function ia(n,e,r){var i=new iu(null==e?ii:e,null==r?io:r,NaN,NaN,NaN,NaN);return null==n?i:i.addAll(n)}function iu(n,e,r,i,o,a){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function is(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}it.copy=function(){var n,e,r=new r7(this._x,this._x0,this._x1),i=this._root;if(!i)return r;if(!i.length)return r._root=r9(i),r;for(n=[{source:i,target:r._root=[,,]}];i=n.pop();)for(var o=0;o<2;++o)(e=i.source[o])&&(e.length?n.push({source:e,target:i.target[o]=[,,]}):i.target[o]=r9(e));return r},it.add=function(n){let e=+this._x.call(null,n);return r3(this.cover(e),e,n)},it.addAll=function(n){Array.isArray(n)||(n=Array.from(n));let e=n.length,r=new Float64Array(e),i=1/0,o=-1/0;for(let a=0,u;a<e;++a)!isNaN(u=+this._x.call(null,n[a]))&&(r[a]=u,u<i&&(i=u),u>o&&(o=u));if(i>o)return this;this.cover(i).cover(o);for(let i=0;i<e;++i)r3(this,r[i],n[i]);return this},it.cover=function(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i,o,a=r-e||1,u=this._root;e>n||n>=r;)switch(o=+(n<e),(i=[,,])[o]=u,u=i,a*=2,o){case 0:r=e+a;break;case 1:e=r-a}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._x1=r,this},it.data=function(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n},it.extent=function(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},it.find=function(n,e){var r,i,o,a,u,s=this._x0,l=this._x1,c=[],h=this._root;for(h&&c.push(new r6(h,s,l)),null==e?e=1/0:(s=n-e,l=n+e);a=c.pop();)if((h=a.node)&&!((i=a.x0)>l)&&!((o=a.x1)<s)){if(h.length){var f=(i+o)/2;c.push(new r6(h[1],f,o),new r6(h[0],i,f)),(u=+(n>=f))&&(a=c[c.length-1],c[c.length-1]=c[c.length-1-u],c[c.length-1-u]=a)}else{var d=Math.abs(n-+this._x.call(null,h.data));d<e&&(e=d,s=n-d,l=n+d,r=h.data)}}return r},it.remove=function(n){if(isNaN(a=+this._x.call(null,n)))return this;var e,r,i,o,a,u,s,l,c,h=this._root,f=this._x0,d=this._x1;if(!h)return this;if(h.length)for(;;){if((s=a>=(u=(f+d)/2))?f=u:d=u,e=h,!(h=h[l=+s]))return this;if(!h.length)break;e[l+1&1]&&(r=e,c=l)}for(;h.data!==n;)if(i=h,!(h=h.next))return this;return((o=h.next)&&delete h.next,i)?o?i.next=o:delete i.next:e?(o?e[l]=o:delete e[l],(h=e[0]||e[1])&&h===(e[1]||e[0])&&!h.length&&(r?r[c]=h:this._root=h)):this._root=o,this},it.removeAll=function(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this},it.root=function(){return this._root},it.size=function(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n},it.visit=function(n){var e,r,i,o,a=[],u=this._root;for(u&&a.push(new r6(u,this._x0,this._x1));e=a.pop();)if(!n(u=e.node,i=e.x0,o=e.x1)&&u.length){var s=(i+o)/2;(r=u[1])&&a.push(new r6(r,s,o)),(r=u[0])&&a.push(new r6(r,i,s))}return this},it.visitAfter=function(n){var e,r=[],i=[];for(this._root&&r.push(new r6(this._root,this._x0,this._x1));e=r.pop();){var o=e.node;if(o.length){var a,u=e.x0,s=e.x1,l=(u+s)/2;(a=o[0])&&r.push(new r6(a,u,l)),(a=o[1])&&r.push(new r6(a,l,s))}i.push(e)}for(;e=i.pop();)n(e.node,e.x0,e.x1);return this},it.x=function(n){return arguments.length?(this._x=n,this):this._x};var il=ia.prototype=iu.prototype;function ic(n,e,r,i,o){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var a,u,s,l,c,h,f,d,p,g,y,v,m=n._root,_={data:o},b=n._x0,x=n._y0,w=n._z0,k=n._x1,M=n._y1,A=n._z1;if(!m)return n._root=_,n;for(;m.length;)if((d=e>=(u=(b+k)/2))?b=u:k=u,(p=r>=(s=(x+M)/2))?x=s:M=s,(g=i>=(l=(w+A)/2))?w=l:A=l,a=m,!(m=m[y=g<<2|p<<1|d]))return a[y]=_,n;if(c=+n._x.call(null,m.data),h=+n._y.call(null,m.data),f=+n._z.call(null,m.data),e===c&&r===h&&i===f)return _.next=m,a?a[y]=_:n._root=_,n;do a=a?a[y]=Array(8):n._root=Array(8),(d=e>=(u=(b+k)/2))?b=u:k=u,(p=r>=(s=(x+M)/2))?x=s:M=s,(g=i>=(l=(w+A)/2))?w=l:A=l;while((y=g<<2|p<<1|d)==(v=(f>=l)<<2|(h>=s)<<1|c>=u));return a[v]=m,a[y]=_,n}function ih(n,e,r,i,o,a,u){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=o,this.y1=a,this.z1=u}function id(n){return n[0]}function ip(n){return n[1]}function ig(n){return n[2]}function iy(n,e,r,i){var o=new iv(null==e?id:e,null==r?ip:r,null==i?ig:i,NaN,NaN,NaN,NaN,NaN,NaN);return null==n?o:o.addAll(n)}function iv(n,e,r,i,o,a,u,s,l){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=o,this._z0=a,this._x1=u,this._y1=s,this._z1=l,this._root=void 0}function im(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}il.copy=function(){var n,e,r=new iu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return r;if(!i.length)return r._root=is(i),r;for(n=[{source:i,target:r._root=[,,,,]}];i=n.pop();)for(var o=0;o<4;++o)(e=i.source[o])&&(e.length?n.push({source:e,target:i.target[o]=[,,,,]}):i.target[o]=is(e));return r},il.add=function(n){let e=+this._x.call(null,n),r=+this._y.call(null,n);return ie(this.cover(e,r),e,r,n)},il.addAll=function(n){var e,r,i,o,a=n.length,u=Array(a),s=Array(a),l=1/0,c=1/0,h=-1/0,f=-1/0;for(r=0;r<a;++r)!(isNaN(i=+this._x.call(null,e=n[r]))||isNaN(o=+this._y.call(null,e)))&&(u[r]=i,s[r]=o,i<l&&(l=i),i>h&&(h=i),o<c&&(c=o),o>f&&(f=o));if(l>h||c>f)return this;for(this.cover(l,c).cover(h,f),r=0;r<a;++r)ie(this,u[r],s[r],n[r]);return this},il.cover=function(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(r))o=(r=Math.floor(n))+1,a=(i=Math.floor(e))+1;else{for(var u,s,l=o-r||1,c=this._root;r>n||n>=o||i>e||e>=a;)switch(s=(e<i)<<1|n<r,(u=[,,,,])[s]=c,c=u,l*=2,s){case 0:o=r+l,a=i+l;break;case 1:r=o-l,a=i+l;break;case 2:o=r+l,i=a-l;break;case 3:r=o-l,i=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=i,this._x1=o,this._y1=a,this},il.data=function(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n},il.extent=function(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},il.find=function(n,e,r){var i,o,a,u,s,l,c,h=this._x0,f=this._y0,d=this._x1,p=this._y1,g=[],y=this._root;for(y&&g.push(new ir(y,h,f,d,p)),null==r?r=1/0:(h=n-r,f=e-r,d=n+r,p=e+r,r*=r);l=g.pop();)if((y=l.node)&&!((o=l.x0)>d)&&!((a=l.y0)>p)&&!((u=l.x1)<h)&&!((s=l.y1)<f)){if(y.length){var v=(o+u)/2,m=(a+s)/2;g.push(new ir(y[3],v,m,u,s),new ir(y[2],o,m,v,s),new ir(y[1],v,a,u,m),new ir(y[0],o,a,v,m)),(c=(e>=m)<<1|n>=v)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var _=n-+this._x.call(null,y.data),b=e-+this._y.call(null,y.data),x=_*_+b*b;if(x<r){var w=Math.sqrt(r=x);h=n-w,f=e-w,d=n+w,p=e+w,i=y.data}}}return i},il.remove=function(n){if(isNaN(a=+this._x.call(null,n))||isNaN(u=+this._y.call(null,n)))return this;var e,r,i,o,a,u,s,l,c,h,f,d,p=this._root,g=this._x0,y=this._y0,v=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((c=a>=(s=(g+v)/2))?g=s:v=s,(h=u>=(l=(y+m)/2))?y=l:m=l,e=p,!(p=p[f=h<<1|c]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(r=e,d=f)}for(;p.data!==n;)if(i=p,!(p=p.next))return this;return((o=p.next)&&delete p.next,i)?o?i.next=o:delete i.next:e?(o?e[f]=o:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(r?r[d]=p:this._root=p)):this._root=o,this},il.removeAll=function(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this},il.root=function(){return this._root},il.size=function(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n},il.visit=function(n){var e,r,i,o,a,u,s=[],l=this._root;for(l&&s.push(new ir(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!n(l=e.node,i=e.x0,o=e.y0,a=e.x1,u=e.y1)&&l.length){var c=(i+a)/2,h=(o+u)/2;(r=l[3])&&s.push(new ir(r,c,h,a,u)),(r=l[2])&&s.push(new ir(r,i,h,c,u)),(r=l[1])&&s.push(new ir(r,c,o,a,h)),(r=l[0])&&s.push(new ir(r,i,o,c,h))}return this},il.visitAfter=function(n){var e,r=[],i=[];for(this._root&&r.push(new ir(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var o=e.node;if(o.length){var a,u=e.x0,s=e.y0,l=e.x1,c=e.y1,h=(u+l)/2,f=(s+c)/2;(a=o[0])&&r.push(new ir(a,u,s,h,f)),(a=o[1])&&r.push(new ir(a,h,s,l,f)),(a=o[2])&&r.push(new ir(a,u,f,h,c)),(a=o[3])&&r.push(new ir(a,h,f,l,c))}i.push(e)}for(;e=i.pop();)n(e.node,e.x0,e.y0,e.x1,e.y1);return this},il.x=function(n){return arguments.length?(this._x=n,this):this._x},il.y=function(n){return arguments.length?(this._y=n,this):this._y};var i_=iy.prototype=iv.prototype;i_.copy=function(){var n,e,r=new iv(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),i=this._root;if(!i)return r;if(!i.length)return r._root=im(i),r;for(n=[{source:i,target:r._root=Array(8)}];i=n.pop();)for(var o=0;o<8;++o)(e=i.source[o])&&(e.length?n.push({source:e,target:i.target[o]=Array(8)}):i.target[o]=im(e));return r},i_.add=function(n){let e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return ic(this.cover(e,r,i),e,r,i,n)},i_.addAll=function(n){Array.isArray(n)||(n=Array.from(n));let e=n.length,r=new Float64Array(e),i=new Float64Array(e),o=new Float64Array(e),a=1/0,u=1/0,s=1/0,l=-1/0,c=-1/0,h=-1/0;for(let f=0,d,p,g,y;f<e;++f)!(isNaN(p=+this._x.call(null,d=n[f]))||isNaN(g=+this._y.call(null,d))||isNaN(y=+this._z.call(null,d)))&&(r[f]=p,i[f]=g,o[f]=y,p<a&&(a=p),p>l&&(l=p),g<u&&(u=g),g>c&&(c=g),y<s&&(s=y),y>h&&(h=y));if(a>l||u>c||s>h)return this;this.cover(a,u,s).cover(l,c,h);for(let a=0;a<e;++a)ic(this,r[a],i[a],o[a],n[a]);return this},i_.cover=function(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,a=this._z0,u=this._x1,s=this._y1,l=this._z1;if(isNaN(i))u=(i=Math.floor(n))+1,s=(o=Math.floor(e))+1,l=(a=Math.floor(r))+1;else{for(var c,h,f=u-i||1,d=this._root;i>n||n>=u||o>e||e>=s||a>r||r>=l;)switch(h=(r<a)<<2|(e<o)<<1|n<i,(c=Array(8))[h]=d,d=c,f*=2,h){case 0:u=i+f,s=o+f,l=a+f;break;case 1:i=u-f,s=o+f,l=a+f;break;case 2:u=i+f,o=s-f,l=a+f;break;case 3:i=u-f,o=s-f,l=a+f;break;case 4:u=i+f,s=o+f,a=l-f;break;case 5:i=u-f,s=o+f,a=l-f;break;case 6:u=i+f,o=s-f,a=l-f;break;case 7:i=u-f,o=s-f,a=l-f}this._root&&this._root.length&&(this._root=d)}return this._x0=i,this._y0=o,this._z0=a,this._x1=u,this._y1=s,this._z1=l,this},i_.data=function(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n},i_.extent=function(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},i_.find=function(n,e,r,i){var o,a,u,s,l,c,h,f,d,p=this._x0,g=this._y0,y=this._z0,v=this._x1,m=this._y1,_=this._z1,b=[],x=this._root;for(x&&b.push(new ih(x,p,g,y,v,m,_)),null==i?i=1/0:(p=n-i,g=e-i,y=r-i,v=n+i,m=e+i,_=r+i,i*=i);f=b.pop();)if((x=f.node)&&!((a=f.x0)>v)&&!((u=f.y0)>m)&&!((s=f.z0)>_)&&!((l=f.x1)<p)&&!((c=f.y1)<g)&&!((h=f.z1)<y)){if(x.length){var w=(a+l)/2,k=(u+c)/2,M=(s+h)/2;b.push(new ih(x[7],w,k,M,l,c,h),new ih(x[6],a,k,M,w,c,h),new ih(x[5],w,u,M,l,k,h),new ih(x[4],a,u,M,w,k,h),new ih(x[3],w,k,s,l,c,M),new ih(x[2],a,k,s,w,c,M),new ih(x[1],w,u,s,l,k,M),new ih(x[0],a,u,s,w,k,M)),(d=(r>=M)<<2|(e>=k)<<1|n>=w)&&(f=b[b.length-1],b[b.length-1]=b[b.length-1-d],b[b.length-1-d]=f)}else{var A=n-+this._x.call(null,x.data),z=e-+this._y.call(null,x.data),S=r-+this._z.call(null,x.data),O=A*A+z*z+S*S;if(O<i){var C=Math.sqrt(i=O);p=n-C,g=e-C,y=r-C,v=n+C,m=e+C,_=r+C,o=x.data}}}return o},i_.remove=function(n){if(isNaN(a=+this._x.call(null,n))||isNaN(u=+this._y.call(null,n))||isNaN(s=+this._z.call(null,n)))return this;var e,r,i,o,a,u,s,l,c,h,f,d,p,g,y,v=this._root,m=this._x0,_=this._y0,b=this._z0,x=this._x1,w=this._y1,k=this._z1;if(!v)return this;if(v.length)for(;;){if((f=a>=(l=(m+x)/2))?m=l:x=l,(d=u>=(c=(_+w)/2))?_=c:w=c,(p=s>=(h=(b+k)/2))?b=h:k=h,e=v,!(v=v[g=p<<2|d<<1|f]))return this;if(!v.length)break;(e[g+1&7]||e[g+2&7]||e[g+3&7]||e[g+4&7]||e[g+5&7]||e[g+6&7]||e[g+7&7])&&(r=e,y=g)}for(;v.data!==n;)if(i=v,!(v=v.next))return this;return((o=v.next)&&delete v.next,i)?o?i.next=o:delete i.next:e?(o?e[g]=o:delete e[g],(v=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&v===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!v.length&&(r?r[y]=v:this._root=v)):this._root=o,this},i_.removeAll=function(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this},i_.root=function(){return this._root},i_.size=function(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n},i_.visit=function(n){var e,r,i,o,a,u,s,l,c=[],h=this._root;for(h&&c.push(new ih(h,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=c.pop();)if(!n(h=e.node,i=e.x0,o=e.y0,a=e.z0,u=e.x1,s=e.y1,l=e.z1)&&h.length){var f=(i+u)/2,d=(o+s)/2,p=(a+l)/2;(r=h[7])&&c.push(new ih(r,f,d,p,u,s,l)),(r=h[6])&&c.push(new ih(r,i,d,p,f,s,l)),(r=h[5])&&c.push(new ih(r,f,o,p,u,d,l)),(r=h[4])&&c.push(new ih(r,i,o,p,f,d,l)),(r=h[3])&&c.push(new ih(r,f,d,a,u,s,p)),(r=h[2])&&c.push(new ih(r,i,d,a,f,s,p)),(r=h[1])&&c.push(new ih(r,f,o,a,u,d,p)),(r=h[0])&&c.push(new ih(r,i,o,a,f,d,p))}return this},i_.visitAfter=function(n){var e,r=[],i=[];for(this._root&&r.push(new ih(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=r.pop();){var o=e.node;if(o.length){var a,u=e.x0,s=e.y0,l=e.z0,c=e.x1,h=e.y1,f=e.z1,d=(u+c)/2,p=(s+h)/2,g=(l+f)/2;(a=o[0])&&r.push(new ih(a,u,s,l,d,p,g)),(a=o[1])&&r.push(new ih(a,d,s,l,c,p,g)),(a=o[2])&&r.push(new ih(a,u,p,l,d,h,g)),(a=o[3])&&r.push(new ih(a,d,p,l,c,h,g)),(a=o[4])&&r.push(new ih(a,u,s,g,d,p,f)),(a=o[5])&&r.push(new ih(a,d,s,g,c,p,f)),(a=o[6])&&r.push(new ih(a,u,p,g,d,h,f)),(a=o[7])&&r.push(new ih(a,d,p,g,c,h,f))}i.push(e)}for(;e=i.pop();)n(e.node,e.x0,e.y0,e.z0,e.x1,e.y1,e.z1);return this},i_.x=function(n){return arguments.length?(this._x=n,this):this._x},i_.y=function(n){return arguments.length?(this._y=n,this):this._y},i_.z=function(n){return arguments.length?(this._z=n,this):this._z};let{abs:ib,cos:ix,sin:iw,acos:ik,atan2:iM,sqrt:iA,pow:iz}=Math;function iS(n){return n<0?-iz(-n,1/3):iz(n,1/3)}let iO=Math.PI,iC=2*iO,iE=iO/2,iP=Number.MAX_SAFE_INTEGER||9007199254740991,iN=Number.MIN_SAFE_INTEGER||-9007199254740991,iT={x:0,y:0,z:0},ij={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){let r=e(n),i=r.x*r.x+r.y*r.y;return void 0!==r.z&&(i+=r.z*r.z),iA(i)},compute:function(n,e,r){if(0===n)return e[0].t=0,e[0];let i=e.length-1;if(1===n)return e[i].t=1,e[i];let o=1-n,a=e;if(0===i)return e[0].t=n,e[0];if(1===i){let e={x:o*a[0].x+n*a[1].x,y:o*a[0].y+n*a[1].y,t:n};return r&&(e.z=o*a[0].z+n*a[1].z),e}if(i<4){let e=o*o,u=n*n,s,l,c,h=0;2===i?(a=[a[0],a[1],a[2],iT],s=e,l=o*n*2,c=u):3===i&&(s=e*o,l=e*n*3,c=o*u*3,h=n*u);let f={x:s*a[0].x+l*a[1].x+c*a[2].x+h*a[3].x,y:s*a[0].y+l*a[1].y+c*a[2].y+h*a[3].y,t:n};return r&&(f.z=s*a[0].z+l*a[1].z+c*a[2].z+h*a[3].z),f}let u=JSON.parse(JSON.stringify(e));for(;u.length>1;){for(let e=0;e<u.length-1;e++)u[e]={x:u[e].x+(u[e+1].x-u[e].x)*n,y:u[e].y+(u[e+1].y-u[e].y)*n},void 0!==u[e].z&&(u[e].z=u[e].z+(u[e+1].z-u[e].z)*n);u.splice(u.length-1,1)}return u[0].t=n,u[0]},computeWithRatios:function(n,e,r,i){let o=1-n,a=r[0],u=r[1],s=r[2],l=r[3],c;return(a*=o,u*=n,2===e.length)?(c=a+u,{x:(a*e[0].x+u*e[1].x)/c,y:(a*e[0].y+u*e[1].y)/c,z:!!i&&(a*e[0].z+u*e[1].z)/c,t:n}):(a*=o,u*=2*o,s*=n*n,3===e.length)?(c=a+u+s,{x:(a*e[0].x+u*e[1].x+s*e[2].x)/c,y:(a*e[0].y+u*e[1].y+s*e[2].y)/c,z:!!i&&(a*e[0].z+u*e[1].z+s*e[2].z)/c,t:n}):(a*=o,u*=1.5*o,s*=3*o,l*=n*n*n,4===e.length)?(c=a+u+s+l,{x:(a*e[0].x+u*e[1].x+s*e[2].x+l*e[3].x)/c,y:(a*e[0].y+u*e[1].y+s*e[2].y+l*e[3].y)/c,z:!!i&&(a*e[0].z+u*e[1].z+s*e[2].z+l*e[3].z)/c,t:n}):void 0},derive:function(n,e){let r=[];for(let i=n,o=i.length,a=o-1;o>1;o--,a--){let n=[];for(let r=0,o;r<a;r++)o={x:a*(i[r+1].x-i[r].x),y:a*(i[r+1].y-i[r].y)},e&&(o.z=a*(i[r+1].z-i[r].z)),n.push(o);r.push(n),i=n}return r},between:function(n,e,r){return e<=n&&n<=r||ij.approximately(n,e)||ij.approximately(n,r)},approximately:function(n,e,r){return ib(n-e)<=(r||1e-6)},length:function(n){let e=ij.Tvalues.length,r=0;for(let i=0,o;i<e;i++)o=.5*ij.Tvalues[i]+.5,r+=ij.Cvalues[i]*ij.arcfn(o,n);return .5*r},map:function(n,e,r,i,o){return i+(o-i)*((n-e)/(r-e))},lerp:function(n,e,r){let i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return void 0!==e.z&&void 0!==r.z&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return void 0!==n.z&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(ij.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){let i=e.x-n.x,o=e.y-n.y,a=r.x-n.x,u=r.y-n.y;return iM(i*u-o*a,i*a+o*u)},round:function(n,e){let r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){let r=n.x-e.x,i=n.y-e.y;return iA(r*r+i*i)},closest:function(n,e){let r=iz(2,63),i,o;return n.forEach(function(n,a){(o=ij.dist(e,n))<r&&(r=o,i=a)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(2!==e&&3!==e)return!1;if(void 0===n)n=.5;else if(0===n||1===n)return n;let r=iz(n,e)+iz(1-n,e),i=r-1;return ib(i/r)},projectionratio:function(n,e){if(2!==e&&3!==e)return!1;if(void 0===n)n=.5;else if(0===n||1===n)return n;let r=iz(1-n,e),i=iz(n,e)+r;return r/i},lli8:function(n,e,r,i,o,a,u,s){let l=(n-r)*(a-s)-(e-i)*(o-u);return 0!=l&&{x:((n*i-e*r)*(o-u)-(n-r)*(o*s-a*u))/l,y:((n*i-e*r)*(a-s)-(e-i)*(o*s-a*u))/l}},lli4:function(n,e,r,i){let o=n.x,a=n.y,u=e.x,s=e.y,l=r.x,c=r.y,h=i.x,f=i.y;return ij.lli8(o,a,u,s,l,c,h,f)},lli:function(n,e){return ij.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new iH(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=iP,r=iP,i=iN,o=iN;return n.forEach(function(n){let a=n.bbox();e>a.x.min&&(e=a.x.min),r>a.y.min&&(r=a.y.min),i<a.x.max&&(i=a.x.max),o<a.y.max&&(o=a.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(n,e,r,i,o){if(!ij.bboxoverlap(e,i))return[];let a=[],u=[n.startcap,n.forward,n.back,n.endcap],s=[r.startcap,r.forward,r.back,r.endcap];return u.forEach(function(e){e.virtual||s.forEach(function(i){if(i.virtual)return;let u=e.intersects(i,o);u.length>0&&(u.c1=e,u.c2=i,u.s1=n,u.s2=r,a.push(u))})}),a},makeshape:function(n,e,r){let i=e.points.length,o=n.points.length,a=ij.makeline(e.points[i-1],n.points[0]),u=ij.makeline(n.points[o-1],e.points[0]),s={startcap:a,forward:n,back:e,endcap:u,bbox:ij.findbbox([a,n,e,u])};return s.intersections=function(n){return ij.shapeintersections(s,s.bbox,n,n.bbox,r)},s},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=iP,o=iN,a,u;-1===r.indexOf(0)&&(r=[0].concat(r)),-1===r.indexOf(1)&&r.push(1);for(let s=0,l=r.length;s<l;s++)a=r[s],(u=n.get(a))[e]<i&&(i=u[e]),u[e]>o&&(o=u[e]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(n,e){let r=e.p1.x,i=e.p1.y,o=-iM(e.p2.y-i,e.p2.x-r);return n.map(function(n){return{x:(n.x-r)*ix(o)-(n.y-i)*iw(o),y:(n.x-r)*iw(o)+(n.y-i)*ix(o)}})},roots:function(n,e){let r,i,o;e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};let a=n.length-1,u=ij.align(n,e),s=function(n){return 0<=n&&n<=1};if(2===a){let n=u[0].y,e=u[1].y,r=u[2].y,i=n-2*e+r;if(0!==i){let o=-iA(e*e-n*r),a=-n+e;return[-(o+a)/i,-(-o+a)/i].filter(s)}return e!==r&&0===i?[(2*e-r)/(2*e-2*r)].filter(s):[]}let l=u[0].y,c=u[1].y,h=u[2].y,f=u[3].y,d=-l+3*c-3*h+f,p=3*l-6*c+3*h,g=-3*l+3*c,y=l;if(ij.approximately(d,0)){if(ij.approximately(p,0))return ij.approximately(g,0)?[]:[-y/g].filter(s);let n=iA(g*g-4*p*y),e=2*p;return[(n-g)/e,(-g-n)/e].filter(s)}p/=d,g/=d,y/=d;let v=(3*g-p*p)/3,m=v/3,_=(2*p*p*p-9*p*g+27*y)/27,b=_/2,x=b*b+m*m*m;if(x<0){let n=-v/3,e=iA(n*n*n),r=-_/(2*e),o=ik(r<-1?-1:r>1?1:r),a=iS(e),u=2*a;return[i=u*ix(o/3)-p/3,u*ix((o+iC)/3)-p/3,u*ix((o+2*iC)/3)-p/3].filter(s)}if(0===x)return[i=2*(r=b<0?iS(-b):-iS(b))-p/3,-r-p/3].filter(s);{let n=iA(x);return[(r=iS(-b+n))-iS(b+n)-p/3].filter(s)}},droots:function(n){if(3===n.length){let e=n[0],r=n[1],i=n[2],o=e-2*r+i;if(0!==o){let n=-iA(r*r-e*i),a=-e+r;return[-(n+a)/o,-(-n+a)/o]}return r!==i&&0===o?[(2*r-i)/(2*(r-i))]:[]}if(2===n.length){let e=n[0],r=n[1];if(e!==r)return[e/(e-r)]}return[]},curvature:function(n,e,r,i,o){let a,u,s,l,c=0,h=0,f=ij.compute(n,e),d=ij.compute(n,r),p=f.x*f.x+f.y*f.y;if(i?(a=iA(iz(f.y*d.z-d.y*f.z,2)+iz(f.z*d.x-d.z*f.x,2)+iz(f.x*d.y-d.x*f.y,2)),u=iz(p+f.z*f.z,1.5)):(a=f.x*d.y-f.y*d.x,u=iz(p,1.5)),0===a||0===u)return{k:0,r:0};if(c=a/u,h=u/a,!o){let o=ij.curvature(n-.001,e,r,i,!0).k,a=ij.curvature(n+.001,e,r,i,!0).k;l=(a-c+(c-o))/2,s=(ib(a-c)+ib(c-o))/2}return{k:c,r:h,dk:l,adk:s}},inflections:function(n){if(n.length<4)return[];let e=ij.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,o=e[1].x*e[2].y,a=e[3].x*e[2].y,u=18*(-3*r+2*i+3*o-a),s=18*(3*r-i-3*o),l=18*(o-r);if(ij.approximately(u,0)){if(!ij.approximately(s,0)){let n=-l/s;if(0<=n&&n<=1)return[n]}return[]}let c=2*u;if(ij.approximately(c,0))return[];let h=s*s-4*u*l;if(h<0)return[];let f=Math.sqrt(h);return[(f-s)/c,-(s+f)/c].filter(function(n){return 0<=n&&n<=1})},bboxoverlap:function(n,e){let r=["x","y"],i=r.length;for(let o=0,a,u,s,l;o<i;o++)if(u=n[a=r[o]].mid,s=e[a].mid,l=(n[a].size+e[a].size)/2,ib(u-s)>=l)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){let i=n.bbox(),o=e.bbox(),a=r||.5;if(i.x.size+i.y.size<a&&o.x.size+o.y.size<a)return[(1e5*(n._t1+n._t2)/2|0)/1e5+"/"+(1e5*(e._t1+e._t2)/2|0)/1e5];let u=n.split(.5),s=e.split(.5),l=[{left:u.left,right:s.left},{left:u.left,right:s.right},{left:u.right,right:s.right},{left:u.right,right:s.left}];l=l.filter(function(n){return ij.bboxoverlap(n.left.bbox(),n.right.bbox())});let c=[];return 0===l.length?c:(l.forEach(function(n){c=c.concat(ij.pairiteration(n.left,n.right,a))}),c=c.filter(function(n,e){return c.indexOf(n)===e}))},getccenter:function(n,e,r){let i=e.x-n.x,o=e.y-n.y,a=r.x-e.x,u=r.y-e.y,s=i*ix(iE)-o*iw(iE),l=i*iw(iE)+o*ix(iE),c=a*ix(iE)-u*iw(iE),h=a*iw(iE)+u*ix(iE),f=(n.x+e.x)/2,d=(n.y+e.y)/2,p=(e.x+r.x)/2,g=(e.y+r.y)/2,y=f+s,v=d+l,m=p+c,_=g+h,b=ij.lli8(f,d,y,v,p,g,m,_),x=ij.dist(b,n),w=iM(n.y-b.y,n.x-b.x),k=iM(e.y-b.y,e.x-b.x),M=iM(r.y-b.y,r.x-b.x),A;return w<M?((w>k||k>M)&&(w+=iC),w>M&&(A=M,M=w,w=A)):M<k&&k<w?(A=M,M=w,w=A):M+=iC,b.s=w,b.e=M,b.r=x,b},numberSort:function(n,e){return n-e}};class iR{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return ij.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,e){return n+e})}curve(n){return this.curves[n]}bbox(){let n=this.curves;for(var e=n[0].bbox(),r=1;r<n.length;r++)ij.expandbox(e,n[r].bbox());return e}offset(n){let e=[];return this.curves.forEach(function(r){e.push(...r.offset(n))}),new iR(e)}}let{abs:iD,min:iI,max:iU,cos:iF,sin:iL,acos:iq,sqrt:iB}=Math,i$=Math.PI;class iH{constructor(n){let e=n&&n.forEach?n:Array.from(arguments).slice(),r=!1;if("object"==typeof e[0]){r=e.length;let n=[];e.forEach(function(e){["x","y","z"].forEach(function(r){void 0!==e[r]&&n.push(e[r])})}),e=n}let i=!1,o=e.length;if(r){if(r>4){if(1!=arguments.length)throw Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");i=!0}}else if(6!==o&&8!==o&&9!==o&&12!==o&&1!=arguments.length)throw Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");let a=this._3d=!i&&(9===o||12===o)||n&&n[0]&&void 0!==n[0].z,u=this.points=[];for(let n=0,r=a?3:2;n<o;n+=r){var s={x:e[n],y:e[n+1]};a&&(s.z=e[n+2]),u.push(s)}let l=this.order=u.length-1,c=this.dims=["x","y"];a&&c.push("z"),this.dimlen=c.length;let h=ij.align(u,{p1:u[0],p2:u[l]}),f=ij.dist(u[0],u[l]);this._linear=h.reduce((n,e)=>n+iD(e.y),0)<f/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,e,r,i){if(void 0===i&&(i=.5),0===i)return new iH(e,e,r);if(1===i)return new iH(n,e,e);let o=iH.getABC(2,n,e,r,i);return new iH(n,o.A,r)}static cubicFromPoints(n,e,r,i,o){void 0===i&&(i=.5);let a=iH.getABC(3,n,e,r,i);void 0===o&&(o=ij.dist(e,a.C));let u=o*(1-i)/i,s=ij.dist(n,r),l=(r.x-n.x)/s,c=(r.y-n.y)/s,h=o*l,f=o*c,d={x:e.x-h,y:e.y-f},p={x:e.x+u*l,y:e.y+u*c},g=a.A,y={x:g.x+(d.x-g.x)/(1-i),y:g.y+(d.y-g.y)/(1-i)},v={x:g.x+(p.x-g.x)/i,y:g.y+(p.y-g.y)/i},m={x:n.x+(y.x-n.x)/i,y:n.y+(y.y-n.y)/i},_={x:r.x+(v.x-r.x)/(1-i),y:r.y+(v.y-r.y)/(1-i)};return new iH(n,m,_,r)}static getUtils(){return ij}getUtils(){return iH.getUtils()}static get PolyBezier(){return iR}valueOf(){return this.toString()}toString(){return ij.pointsToString(this.points)}toSVG(){if(this._3d)return!1;let n=this.points,e=n[0].x,r=n[0].y,i=["M",e,r,2===this.order?"Q":"C"];for(let e=1,r=n.length;e<r;e++)i.push(n[e].x),i.push(n[e].y);return i.join(" ")}setRatios(n){if(n.length!==this.points.length)throw Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){let n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,e){return""+e+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=ij.derive(this.points,this._3d),this.computedirection()}computedirection(){let n=this.points,e=ij.angle(n[0],n[this.order],n[1]);this.clockwise=e>0}length(){return ij.length(this.derivative.bind(this))}static getABC(n=2,e,r,i,o=.5){let a=ij.projectionratio(o,n),u=1-a,s={x:a*e.x+u*i.x,y:a*e.y+u*i.y},l=ij.abcratio(o,n),c={x:r.x+(r.x-s.x)/l,y:r.y+(r.y-s.y)/l};return{A:c,B:r,C:s,S:e,E:i}}getABC(n,e){e=e||this.get(n);let r=this.points[0],i=this.points[this.order];return iH.getABC(this.order,r,e,i,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let e=0,r,i;e<n;e++)i=e/(n-1),(r=this.compute(i)).t=i,this._lut.push(r);return this._lut}on(n,e){e=e||5;let r=this.getLUT(),i=[];for(let o=0,a;o<r.length;o++)a=r[o],ij.dist(a,n)<e&&(i.push(a),r.length);return!!i.length&&(t/=i.length)}project(n){let e=this.getLUT(),r=e.length-1,i=ij.closest(e,n),o=i.mpos,a=(o-1)/r,u=(o+1)/r,s=.1/r,l=i.mdist,c=a,h=c,f;l+=1;for(let e;c<u+s;c+=s)f=this.compute(c),(e=ij.dist(n,f))<l&&(l=e,h=c);return h=h<0?0:h>1?1:h,(f=this.compute(h)).t=h,f.d=l,f}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?ij.computeWithRatios(n,this.points,this.ratios,this._3d):ij.compute(n,this.points,this._3d,this.ratios)}raise(){let n=this.points,e=[n[0]],r=n.length;for(let i=1,o,a;i<r;i++)o=n[i],a=n[i-1],e[i]={x:(r-i)/r*o.x+i/r*a.x,y:(r-i)/r*o.y+i/r*a.y};return e[r]=n[r-1],new iH(e)}derivative(n){return ij.compute(n,this.dpoints[0],this._3d)}dderivative(n){return ij.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new iH(ij.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return ij.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ij.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){let e=this.derivative(n),r=iB(e.x*e.x+e.y*e.y);return{t:n,x:-e.y/r,y:e.x/r}}__normal3(n){let e=this.derivative(n),r=this.derivative(n+.01),i=iB(e.x*e.x+e.y*e.y+e.z*e.z),o=iB(r.x*r.x+r.y*r.y+r.z*r.z);e.x/=i,e.y/=i,e.z/=i,r.x/=o,r.y/=o,r.z/=o;let a={x:r.y*e.z-r.z*e.y,y:r.z*e.x-r.x*e.z,z:r.x*e.y-r.y*e.x},u=iB(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=u,a.y/=u,a.z/=u;let s=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z],l={t:n,x:s[0]*e.x+s[1]*e.y+s[2]*e.z,y:s[3]*e.x+s[4]*e.y+s[5]*e.z,z:s[6]*e.x+s[7]*e.y+s[8]*e.z};return l}hull(n){let e=this.points,r=[],i=[],o=0;for(i[o++]=e[0],i[o++]=e[1],i[o++]=e[2],3===this.order&&(i[o++]=e[3]);e.length>1;){r=[];for(let a=0,u,s=e.length-1;a<s;a++)u=ij.lerp(n,e[a],e[a+1]),i[o++]=u,r.push(u);e=r}return i}split(n,e){if(0===n&&e)return this.split(e).left;if(1===e)return this.split(n).right;let r=this.hull(n),i={left:new iH(2===this.order?[r[0],r[3],r[5]]:[r[0],r[4],r[7],r[9]]),right:new iH(2===this.order?[r[5],r[4],r[2]]:[r[9],r[8],r[6],r[3]]),span:r};return(i.left._t1=ij.map(0,0,1,this._t1,this._t2),i.left._t2=ij.map(n,0,1,this._t1,this._t2),i.right._t1=ij.map(n,0,1,this._t1,this._t2),i.right._t2=ij.map(1,0,1,this._t1,this._t2),e)?(e=ij.map(e,n,1,0,1),i.right.split(e).left):i}extrema(){let n={},e=[];return this.dims.forEach((function(r){let i=function(n){return n[r]},o=this.dpoints[0].map(i);n[r]=ij.droots(o),3===this.order&&(o=this.dpoints[1].map(i),n[r]=n[r].concat(ij.droots(o))),n[r]=n[r].filter(function(n){return n>=0&&n<=1}),e=e.concat(n[r].sort(ij.numberSort))}).bind(this)),n.values=e.sort(ij.numberSort).filter(function(n,r){return e.indexOf(n)===r}),n}bbox(){let n=this.extrema(),e={};return this.dims.forEach((function(r){e[r]=ij.getminmax(this,r,n[r])}).bind(this)),e}overlaps(n){let e=this.bbox(),r=n.bbox();return ij.bboxoverlap(e,r)}offset(n,e){if(void 0!==e){let r=this.get(n),i=this.normal(n),o={c:r,n:i,x:r.x+i.x*e,y:r.y+i.y*e};return this._3d&&(o.z=r.z+i.z*e),o}if(this._linear){let e=this.normal(0),r=this.points.map(function(r){let i={x:r.x+n*e.x,y:r.y+n*e.y};return r.z&&e.z&&(i.z=r.z+n*e.z),i});return[new iH(r)]}return this.reduce().map(function(e){return e._linear?e.offset(n)[0]:e.scale(n)})}simple(){if(3===this.order){let n=ij.angle(this.points[0],this.points[3],this.points[1]),e=ij.angle(this.points[0],this.points[3],this.points[2]);if(n>0&&e<0||n<0&&e>0)return!1}let n=this.normal(0),e=this.normal(1),r=n.x*e.x+n.y*e.y;return this._3d&&(r+=n.z*e.z),iD(iq(r))<i$/3}reduce(){let n,e=0,r=0,i,o=[],a=[],u=this.extrema().values;for(-1===u.indexOf(0)&&(u=[0].concat(u)),-1===u.indexOf(1)&&u.push(1),e=u[0],n=1;n<u.length;n++)r=u[n],(i=this.split(e,r))._t1=e,i._t2=r,o.push(i),e=r;return o.forEach(function(n){for(e=0,r=0;r<=1;)for(r=e+.01;r<=1.01;r+=.01)if(!(i=n.split(e,r)).simple()){if(.01>iD(e-(r-=.01)))return[];(i=n.split(e,r))._t1=ij.map(e,0,1,n._t1,n._t2),i._t2=ij.map(r,0,1,n._t1,n._t2),a.push(i),e=r;break}e<1&&((i=n.split(e,1))._t1=ij.map(e,0,1,n._t1,n._t2),i._t2=n._t2,a.push(i))}),a}translate(n,e,r){r="number"==typeof r?r:e;let i=this.order,o=this.points.map((n,o)=>(1-o/i)*e+o/i*r);return new iH(this.points.map((e,r)=>({x:e.x+n.x*o[r],y:e.y+n.y*o[r]})))}scale(n){let e=this.order,r=!1;if("function"==typeof n&&(r=n),r&&2===e)return this.raise().scale(r);let i=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),r?r(0):n,r?r(1):n);let a=r?r(0):n,u=r?r(1):n,s=[this.offset(0,10),this.offset(1,10)],l=[],c=ij.lli4(s[0],s[0].c,s[1],s[1].c);if(!c)throw Error("cannot scale this curve. Try reducing it first.");return([0,1].forEach(function(n){let r=l[n*e]=ij.copy(o[n*e]);r.x+=(n?u:a)*s[n].n.x,r.y+=(n?u:a)*s[n].n.y}),r)?[0,1].forEach(function(a){if(2!==e||!a){var u=o[a+1],s={x:u.x-c.x,y:u.y-c.y},h=r?r((a+1)/e):n;r&&!i&&(h=-h);var f=iB(s.x*s.x+s.y*s.y);s.x/=f,s.y/=f,l[a+1]={x:u.x+h*s.x,y:u.y+h*s.y}}}):[0,1].forEach(n=>{if(2===e&&n)return;let r=l[n*e],i=this.derivative(n),a={x:r.x+i.x,y:r.y+i.y};l[n+1]=ij.lli4(r,a,c,o[n+1])}),new iH(l)}outline(n,e,r,i){if(e=void 0===e?n:e,this._linear){let o,a,u;let s=this.normal(0),l=this.points[0],c=this.points[this.points.length-1];void 0===r&&(r=n,i=e),o={x:l.x+s.x*n,y:l.y+s.y*n},u={x:c.x+s.x*r,y:c.y+s.y*r},a={x:(o.x+u.x)/2,y:(o.y+u.y)/2};let h=[o,a,u];o={x:l.x-s.x*e,y:l.y-s.y*e},u={x:c.x-s.x*i,y:c.y-s.y*i},a={x:(o.x+u.x)/2,y:(o.y+u.y)/2};let f=[u,a,o],d=ij.makeline(f[2],h[0]),p=ij.makeline(h[2],f[0]),g=[d,new iH(h),p,new iH(f)];return new iR(g)}let o=this.reduce(),a=o.length,u=[],s=[],l,c=0,h=this.length(),f=void 0!==r&&void 0!==i;function d(n,e,r,i,o){return function(a){let u=e-n;return ij.map(a,0,1,n+i/r*u,n+(i+o)/r*u)}}o.forEach(function(o){let a=o.length();f?(u.push(o.scale(d(n,r,h,c,a))),s.push(o.scale(d(-e,-i,h,c,a)))):(u.push(o.scale(n)),s.push(o.scale(-e))),c+=a}),s=s.map(function(n){return(l=n.points)[3]?n.points=[l[3],l[2],l[1],l[0]]:n.points=[l[2],l[1],l[0]],n}).reverse();let p=u[0].points[0],g=u[a-1].points[u[a-1].points.length-1],y=s[a-1].points[s[a-1].points.length-1],v=s[0].points[0],m=ij.makeline(y,p),_=ij.makeline(g,v),b=[m].concat(u).concat([_]).concat(s);return new iR(b)}outlineshapes(n,e,r){e=e||n;let i=this.outline(n,e).curves,o=[];for(let n=1,e=i.length;n<e/2;n++){let a=ij.makeshape(i[n],i[e-n],r);a.startcap.virtual=n>1,a.endcap.virtual=n<e/2-1,o.push(a)}return o}intersects(n,e){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof iH&&(n=n.reduce()),this.curveintersects(this.reduce(),n,e)):this.selfintersects(e)}lineIntersects(n){let e=iI(n.p1.x,n.p2.x),r=iI(n.p1.y,n.p2.y),i=iU(n.p1.x,n.p2.x),o=iU(n.p1.y,n.p2.y);return ij.roots(this.points,n).filter(n=>{var a=this.get(n);return ij.between(a.x,e,i)&&ij.between(a.y,r,o)})}selfintersects(n){let e=this.reduce(),r=e.length-2,i=[];for(let o=0,a,u;o<r;o++)a=e.slice(o,o+1),u=e.slice(o+2),i.push(...this.curveintersects(a,u,n));return i}curveintersects(n,e,r){let i=[];n.forEach(function(n){e.forEach(function(e){n.overlaps(e)&&i.push({left:n,right:e})})});let o=[];return i.forEach(function(n){let e=ij.pairiteration(n.left,n.right,r);e.length>0&&(o=o.concat(e))}),o}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,e,r,i){let o=(i-r)/4,a=this.get(r+o),u=this.get(i-o),s=ij.dist(n,e),l=ij.dist(n,a),c=ij.dist(n,u);return iD(l-s)+iD(c-s)}_iterate(n,e){let r=0,i=1,o;do{o=0,i=1;let a=this.get(r),u,s,l,c,h=!1,f=!1,d,p=i,g=1;do if(f=h,c=l,p=(r+i)/2,u=this.get(p),s=this.get(i),(l=ij.getccenter(a,u,s)).interval={start:r,end:i},h=this._error(l,a,r,i)<=n,(d=f&&!h)||(g=i),h){if(i>=1){if(l.interval.end=g=1,c=l,i>1){let n={x:l.x+l.r*iF(l.e),y:l.y+l.r*iL(l.e)};l.e+=ij.angle({x:l.x,y:l.y},n,this.get(1))}break}i+=(i-r)/2}else i=p;while(!d&&o++<100);if(o>=100)break;c=c||l,e.push(c),r=g}while(i<1);return e}}function iV(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function iG(n){var e=function(n,e){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var i=r.call(n,e);if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n,"string");return"symbol"==typeof e?e:e+""}function iX(n,e){if(n){if("string"==typeof n)return iV(n,e);var r=({}).toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iV(n,e):void 0}}var iY=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(n){return{keyAccessor:n,isProp:!(n instanceof Function)}}),a=n.reduce(function(n,e){var i=n,a=e;return o.forEach(function(n,e){var u,s=n.keyAccessor;if(n.isProp){var l=a,c=l[s],h=function(n,e){if(null==n)return{};var r,i,o=function(n,e){if(null==n)return{};var r={};for(var i in n)if(({}).hasOwnProperty.call(n,i)){if(e.includes(i))continue;r[i]=n[i]}return r}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],e.includes(r)||({}).propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}(l,[s].map(iG));u=c,a=h}else u=s(a,e);e+1<o.length?(i.hasOwnProperty(u)||(i[u]={}),i=i[u]):r?(i.hasOwnProperty(u)||(i[u]=[]),i[u].push(a)):i[u]=a}),n},{});r instanceof Function&&function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i===o.length?Object.keys(e).forEach(function(n){return e[n]=r(e[n])}):Object.values(e).forEach(function(e){return n(e,i+1)})}(a);var u=a;return i&&(u=[],function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r.length===o.length?u.push({keys:r,vals:e}):Object.entries(e).forEach(function(e){var i=function(n){if(Array.isArray(n))return n}(e)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var i,o,a,u,s=[],l=!0,c=!1;try{if(a=(r=r.call(n)).next,0===e);else for(;!(l=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(n){c=!0,o=n}finally{try{if(!l&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw o}}return s}}(e,2)||iX(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0];return n(i[1],[].concat(function(n){if(Array.isArray(n))return iV(n)}(r)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(r)||iX(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]))})}(a),e instanceof Array&&0===e.length&&1===u.length&&(u[0].keys=[])),u};class iW extends Map{constructor(n,e=iQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=n)for(let[e,r]of n)this.set(e,r)}get(n){return super.get(iZ(this,n))}has(n){return super.has(iZ(this,n))}set(n,e){return super.set(function({_intern:n,_key:e},r){let i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}(this,n),e)}delete(n){return super.delete(function({_intern:n,_key:e},r){let i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}(this,n))}}function iZ({_intern:n,_key:e},r){let i=e(r);return n.has(i)?n.get(i):r}function iQ(n){return null!==n&&"object"==typeof n?n.valueOf():n}function iK(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n)}return this}let iJ=Symbol("implicit");var i0=function(n){for(var e=n.length/6|0,r=Array(e),i=0;i<e;)r[i]="#"+n.slice(6*i,6*++i);return r}("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function i1(n,e,r){if(i2())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var o=new(n.bind.apply(n,i));return r&&i4(o,r.prototype),o}function i2(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(n){}return(i2=function(){return!!n})()}function i5(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,i)}return r}function i3(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i5(Object(r),!0).forEach(function(e){i8(n,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})}return n}function i6(n){return(i6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function i8(n,e,r){var i;return(e="symbol"==typeof(i=function(n,e){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var i=r.call(n,e||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(e,"string"))?i:String(i))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function i4(n,e){return(i4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n})(n,e)}function i7(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var i,o,a,u,s=[],l=!0,c=!1;try{if(a=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(n){c=!0,o=n}finally{try{if(!l&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw o}}return s}}(n,e)||ot(n,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i9(n){return function(n){if(Array.isArray(n))return on(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||ot(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(n,e){if(n){if("string"==typeof n)return on(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if("Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return on(n,e)}}function on(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}!function(n,e){void 0===e&&(e={});var r=e.insertAt;if(n&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}(".force-graph-container canvas {\n  display: block;\n  user-select: none;\n  outline: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.force-graph-container .graph-tooltip {\n  position: absolute;\n  top: 0;\n  font-family: sans-serif;\n  font-size: 16px;\n  padding: 4px;\n  border-radius: 3px;\n  color: #eee;\n  background: rgba(0,0,0,0.65);\n  visibility: hidden; /* by default */\n}\n\n.force-graph-container .clickable {\n  cursor: pointer;\n}\n\n.force-graph-container .grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.force-graph-container .grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n");var oe=function n(){var e=new iW,r=[],i=[],o=iJ;function a(n){let a=e.get(n);if(void 0===a){if(o!==iJ)return o;e.set(n,a=r.push(n)-1)}return i[a%i.length]}return a.domain=function(n){if(!arguments.length)return r.slice();for(let i of(r=[],e=new iW,n))e.has(i)||e.set(i,r.push(i)-1);return a},a.range=function(n){return arguments.length?(i=Array.from(n),a):i.slice()},a.unknown=function(n){return arguments.length?(o=n,a):o},a.copy=function(){return n(r,i).unknown(o)},iK.apply(a,arguments),a}(i0);function or(n,e,r){e&&"string"==typeof r&&n.filter(function(n){return!n[r]}).forEach(function(n){n[r]=oe(e(n))})}var oi=function(n,e){return e.onNeedsRedraw&&e.onNeedsRedraw()},oo=function(n,e){if(!e.isShadow){var r=rf(e.linkDirectionalParticles);e.graphData.links.forEach(function(n){var e=Math.round(Math.abs(r(n)));e?n.__photons=i9(Array(e)).map(function(){return{}}):delete n.__photons})}},oa=rh({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,e){e.engineRunning=!1,oo(n,e)}},dagMode:{onChange:function(n,e){n||(e.graphData.nodes||[]).forEach(function(n){return n.fx=n.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:oi},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:oi},nodeColor:{default:"color",triggerUpdate:!1,onChange:oi},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:oi},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:oi},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:oi},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:oi},linkColor:{default:"color",triggerUpdate:!1,onChange:oi},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:oi},linkWidth:{default:1,triggerUpdate:!1,onChange:oi},linkCurvature:{default:0,triggerUpdate:!1,onChange:oi},linkCanvasObject:{triggerUpdate:!1,onChange:oi},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:oi},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:oi},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:oi},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:oi},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:oo},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,e){e.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,e){e.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,e){e.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,e,r){return void 0===r?n.forceLayout.force(e):(n.forceLayout.force(e,r),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){var e,r,i,o,a,u,s,l,c,h,f,d,p,g,y,v,m,_,b;return n.isShadow||n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick())),function(){var e=rf(n.linkVisibility),r=rf(n.linkColor),i=rf(n.linkWidth),o=rf(n.linkLineDash),a=rf(n.linkCurvature),u=rf(n.linkCanvasObjectMode),s=n.ctx,l=2*n.isShadow,c=n.graphData.links.filter(e);c.forEach(function(n){var e=a(n);if(!e){n.__controlPoints=null;return}var r=n.source,i=n.target;if(r&&i&&r.hasOwnProperty("x")&&i.hasOwnProperty("x")){var o=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2));if(o>0){var u=Math.atan2(i.y-r.y,i.x-r.x),s=o*e,l={x:(r.x+i.x)/2+s*Math.cos(u-Math.PI/2),y:(r.y+i.y)/2+s*Math.sin(u-Math.PI/2)};n.__controlPoints=[l.x,l.y]}else{var c=70*e;n.__controlPoints=[i.x,i.y-c,i.x+c,i.y]}}});var h=[],f=[],d=c;if(n.linkCanvasObject){var p=[],g=[];c.forEach(function(n){return(({before:h,after:f,replace:p})[u(n)]||g).push(n)}),d=[].concat(i9(h),f,g),h=h.concat(p)}s.save(),h.forEach(function(e){return n.linkCanvasObject(e,s,n.globalScale)}),s.restore();var y=iY(d,[r,i,o]);s.save(),Object.entries(y).forEach(function(e){var r=i7(e,2),i=r[0],a=r[1],u=i&&"undefined"!==i?i:"rgba(0,0,0,0.15)";Object.entries(a).forEach(function(e){var r=i7(e,2),i=r[0],a=r[1],c=(i||1)/n.globalScale+l;Object.entries(a).forEach(function(n){var e=i7(n,2);e[0];var r=e[1],i=o(r[0]);s.beginPath(),r.forEach(function(n){var e=n.source,r=n.target;if(e&&r&&e.hasOwnProperty("x")&&r.hasOwnProperty("x")){s.moveTo(e.x,e.y);var i=n.__controlPoints;i?s[2===i.length?"quadraticCurveTo":"bezierCurveTo"].apply(s,i9(i).concat([r.x,r.y])):s.lineTo(r.x,r.y)}}),s.strokeStyle=u,s.lineWidth=c,s.setLineDash(i||[]),s.stroke()})})}),s.restore(),s.save(),f.forEach(function(e){return n.linkCanvasObject(e,s,n.globalScale)}),s.restore()}(),n.isShadow||(e=rf(n.linkDirectionalArrowLength),r=rf(n.linkDirectionalArrowRelPos),i=rf(n.linkVisibility),o=rf(n.linkDirectionalArrowColor||n.linkColor),a=rf(n.nodeVal),(u=n.ctx).save(),n.graphData.links.filter(i).forEach(function(i){var s=e(i);if(s&&!(s<0)){var l=i.source,c=i.target;if(l&&c&&l.hasOwnProperty("x")&&c.hasOwnProperty("x")){var h=Math.sqrt(Math.max(0,a(l)||1))*n.nodeRelSize,f=Math.sqrt(Math.max(0,a(c)||1))*n.nodeRelSize,d=Math.min(1,Math.max(0,r(i))),p=o(i)||"rgba(0,0,0,0.28)",g=s/1.6/2,y=i.__controlPoints&&i1(iH,[l.x,l.y].concat(i9(i.__controlPoints),[c.x,c.y])),v=y?function(n){return y.get(n)}:function(n){return{x:l.x+(c.x-l.x)*n||0,y:l.y+(c.y-l.y)*n||0}},m=y?y.length():Math.sqrt(Math.pow(c.x-l.x,2)+Math.pow(c.y-l.y,2)),_=h+s+(m-h-f-s)*d,b=v(_/m),x=v((_-s)/m),w=v((_-.8*s)/m),k=Math.atan2(b.y-x.y,b.x-x.x)-Math.PI/2;u.beginPath(),u.moveTo(b.x,b.y),u.lineTo(x.x+g*Math.cos(k),x.y+g*Math.sin(k)),u.lineTo(w.x,w.y),u.lineTo(x.x-g*Math.cos(k),x.y-g*Math.sin(k)),u.fillStyle=p,u.fill()}}}),u.restore()),n.isShadow||(s=rf(n.linkDirectionalParticles),l=rf(n.linkDirectionalParticleSpeed),c=rf(n.linkDirectionalParticleWidth),h=rf(n.linkVisibility),f=rf(n.linkDirectionalParticleColor||n.linkColor),(d=n.ctx).save(),n.graphData.links.filter(h).forEach(function(e){var r=s(e);if(e.hasOwnProperty("__photons")&&e.__photons.length){var i=e.source,o=e.target;if(i&&o&&i.hasOwnProperty("x")&&o.hasOwnProperty("x")){var a=l(e),u=e.__photons||[],h=Math.max(0,c(e)/2)/Math.sqrt(n.globalScale),p=f(e)||"rgba(0,0,0,0.28)";d.fillStyle=p;var g=e.__controlPoints?i1(iH,[i.x,i.y].concat(i9(e.__controlPoints),[o.x,o.y])):null,y=0,v=!1;u.forEach(function(n){var e=!!n.__singleHop;if(n.hasOwnProperty("__progressRatio")||(n.__progressRatio=e?0:y/r),!e&&y++,n.__progressRatio+=a,n.__progressRatio>=1){if(e){v=!0;return}n.__progressRatio=n.__progressRatio%1}var u=n.__progressRatio,s=g?g.get(u):{x:i.x+(o.x-i.x)*u||0,y:i.y+(o.y-i.y)*u||0};d.beginPath(),d.arc(s.x,s.y,h,0,2*Math.PI,!1),d.fill()}),v&&(e.__photons=e.__photons.filter(function(n){return!n.__singleHop||n.__progressRatio<=1}))}}}),d.restore()),p=rf(n.nodeVisibility),g=rf(n.nodeVal),y=rf(n.nodeColor),v=rf(n.nodeCanvasObjectMode),m=n.ctx,_=n.isShadow/n.globalScale,b=n.graphData.nodes.filter(p),m.save(),b.forEach(function(e){var r=v(e);if(n.nodeCanvasObject&&("before"===r||"replace"===r)&&(n.nodeCanvasObject(e,m,n.globalScale),"replace"===r)){m.restore();return}var i=Math.sqrt(Math.max(0,g(e)||1))*n.nodeRelSize+_;m.beginPath(),m.arc(e.x,e.y,i,0,2*Math.PI,!1),m.fillStyle=y(e)||"rgba(31, 120, 180, 0.92)",m.fill(),n.nodeCanvasObject&&"after"===r&&n.nodeCanvasObject(e,n.ctx,n.globalScale)}),m.restore(),this},emitParticle:function(n,e){return e&&(e.__photons||(e.__photons=[]),e.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:(function(n,e){let r;var i,o=Math.min(3,Math.max(1,Math.round(e=e||2))),a=1,u=.001,s=1-Math.pow(.001,1/300),l=0,c=.6,h=new Map,f=t9(g),d=tU("tick","end"),p=(r=1,()=>(r=(1664525*r+1013904223)%4294967296)/4294967296);function g(){y(),d.call("tick",i),a<u&&(f.stop(),d.call("end",i))}function y(e){var r,u,f=n.length;void 0===e&&(e=1);for(var d=0;d<e;++d)for(a+=(l-a)*s,h.forEach(function(n){n(a)}),r=0;r<f;++r)null==(u=n[r]).fx?u.x+=u.vx*=c:(u.x=u.fx,u.vx=0),o>1&&(null==u.fy?u.y+=u.vy*=c:(u.y=u.fy,u.vy=0)),o>2&&(null==u.fz?u.z+=u.vz*=c:(u.z=u.fz,u.vz=0));return i}function v(){for(var e,r=0,i=n.length;r<i;++r){if((e=n[r]).index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),null!=e.fz&&(e.z=e.fz),isNaN(e.x)||o>1&&isNaN(e.y)||o>2&&isNaN(e.z)){var a=10*(o>2?Math.cbrt(.5+r):o>1?Math.sqrt(.5+r):r),u=r*rK,s=r*rJ;1===o?e.x=a:2===o?(e.x=a*Math.cos(u),e.y=a*Math.sin(u)):(e.x=a*Math.sin(u)*Math.cos(s),e.y=a*Math.cos(u),e.z=a*Math.sin(u)*Math.sin(s))}(isNaN(e.vx)||o>1&&isNaN(e.vy)||o>2&&isNaN(e.vz))&&(e.vx=0,o>1&&(e.vy=0),o>2&&(e.vz=0))}}function m(e){return e.initialize&&e.initialize(n,p,o),e}return null==n&&(n=[]),v(),i={tick:y,restart:function(){return f.restart(g),i},stop:function(){return f.stop(),i},numDimensions:function(n){return arguments.length?(o=Math.min(3,Math.max(1,Math.round(n))),h.forEach(m),i):o},nodes:function(e){return arguments.length?(n=e,v(),h.forEach(m),i):n},alpha:function(n){return arguments.length?(a=+n,i):a},alphaMin:function(n){return arguments.length?(u=+n,i):u},alphaDecay:function(n){return arguments.length?(s=+n,i):+s},alphaTarget:function(n){return arguments.length?(l=+n,i):l},velocityDecay:function(n){return arguments.length?(c=1-n,i):1-c},randomSource:function(n){return arguments.length?(p=n,h.forEach(m),i):p},force:function(n,e){return arguments.length>1?(null==e?h.delete(n):h.set(n,m(e)),i):h.get(n)},find:function(){var e,r,i,a,u,s,l=Array.prototype.slice.call(arguments),c=l.shift()||0,h=(o>1?l.shift():null)||0,f=(o>2?l.shift():null)||0,d=l.shift()||1/0,p=0,g=n.length;for(d*=d,p=0;p<g;++p)(a=(e=c-(u=n[p]).x)*e+(r=h-(u.y||0))*r+(i=f-(u.z||0))*i)<d&&(s=u,d=a);return s},on:function(n,e){return arguments.length>1?(d.on(n,e),i):d.on(n)}}})().force("link",function(n){var e,r,i,o,a,u,s,l=r2,c=function(n){return 1/Math.min(a[n.source.index],a[n.target.index])},h=r0(30),f=1;function d(i){for(var a=0,l=n.length;a<f;++a)for(var c,h,d,p,g,y=0,v=0,m=0,_=0;y<l;++y)h=(c=n[y]).source,v=(d=c.target).x+d.vx-h.x-h.vx||r1(s),o>1&&(m=d.y+d.vy-h.y-h.vy||r1(s)),o>2&&(_=d.z+d.vz-h.z-h.vz||r1(s)),p=((p=Math.sqrt(v*v+m*m+_*_))-r[y])/p*i*e[y],v*=p,m*=p,_*=p,d.vx-=v*(g=u[y]),o>1&&(d.vy-=m*g),o>2&&(d.vz-=_*g),h.vx+=v*(g=1-g),o>1&&(h.vy+=m*g),o>2&&(h.vz+=_*g)}function p(){if(i){var o,s,c=i.length,h=n.length,f=new Map(i.map((n,e)=>[l(n,e,i),n]));for(o=0,a=Array(c);o<h;++o)(s=n[o]).index=o,"object"!=typeof s.source&&(s.source=r5(f,s.source)),"object"!=typeof s.target&&(s.target=r5(f,s.target)),a[s.source.index]=(a[s.source.index]||0)+1,a[s.target.index]=(a[s.target.index]||0)+1;for(o=0,u=Array(h);o<h;++o)s=n[o],u[o]=a[s.source.index]/(a[s.source.index]+a[s.target.index]);e=Array(h),g(),r=Array(h),y()}}function g(){if(i)for(var r=0,o=n.length;r<o;++r)e[r]=+c(n[r],r,n)}function y(){if(i)for(var e=0,o=n.length;e<o;++e)r[e]=+h(n[e],e,n)}return null==n&&(n=[]),d.initialize=function(n,...e){i=n,s=e.find(n=>"function"==typeof n)||Math.random,o=e.find(n=>[1,2,3].includes(n))||2,p()},d.links=function(e){return arguments.length?(n=e,p(),d):n},d.id=function(n){return arguments.length?(l=n,d):l},d.iterations=function(n){return arguments.length?(f=+n,d):f},d.strength=function(n){return arguments.length?(c="function"==typeof n?n:r0(+n),g(),d):c},d.distance=function(n){return arguments.length?(h="function"==typeof n?n:r0(+n),y(),d):h},d}()).force("charge",function(){var n,e,r,i,o,a,u=r0(-30),s=1,l=1/0,c=.81;function h(i){var a,u=n.length,s=(1===e?r4(n,rW):2===e?ia(n,rW,rZ):3===e?iy(n,rW,rZ,rQ):null).visitAfter(d);for(o=i,a=0;a<u;++a)r=n[a],s.visit(p)}function f(){if(n){var e,r,i=n.length;for(e=0,a=Array(i);e<i;++e)a[(r=n[e]).index]=+u(r,e,n)}}function d(n){var r,i,o,u,s,l,c=0,h=0,f=n.length;if(f){for(o=u=s=l=0;l<f;++l)(r=n[l])&&(i=Math.abs(r.value))&&(c+=r.value,h+=i,o+=i*(r.x||0),u+=i*(r.y||0),s+=i*(r.z||0));c*=Math.sqrt(4/f),n.x=o/h,e>1&&(n.y=u/h),e>2&&(n.z=s/h)}else{(r=n).x=r.data.x,e>1&&(r.y=r.data.y),e>2&&(r.z=r.data.z);do c+=a[r.data.index];while(r=r.next)}n.value=c}function p(n,u,h,f,d){if(!n.value)return!0;var p=[h,f,d][e-1],g=n.x-r.x,y=e>1?n.y-r.y:0,v=e>2?n.z-r.z:0,m=p-u,_=g*g+y*y+v*v;if(m*m/c<_)return _<l&&(0===g&&(_+=(g=r1(i))*g),e>1&&0===y&&(_+=(y=r1(i))*y),e>2&&0===v&&(_+=(v=r1(i))*v),_<s&&(_=Math.sqrt(s*_)),r.vx+=g*n.value*o/_,e>1&&(r.vy+=y*n.value*o/_),e>2&&(r.vz+=v*n.value*o/_)),!0;if(!n.length&&!(_>=l)){(n.data!==r||n.next)&&(0===g&&(_+=(g=r1(i))*g),e>1&&0===y&&(_+=(y=r1(i))*y),e>2&&0===v&&(_+=(v=r1(i))*v),_<s&&(_=Math.sqrt(s*_)));do n.data!==r&&(m=a[n.data.index]*o/_,r.vx+=g*m,e>1&&(r.vy+=y*m),e>2&&(r.vz+=v*m));while(n=n.next)}}return h.initialize=function(r,...o){n=r,i=o.find(n=>"function"==typeof n)||Math.random,e=o.find(n=>[1,2,3].includes(n))||2,f()},h.strength=function(n){return arguments.length?(u="function"==typeof n?n:r0(+n),f(),h):u},h.distanceMin=function(n){return arguments.length?(s=n*n,h):Math.sqrt(s)},h.distanceMax=function(n){return arguments.length?(l=n*n,h):Math.sqrt(l)},h.theta=function(n){return arguments.length?(c=n*n,h):Math.sqrt(c)},h}()).force("center",function(n,e,r){var i,o=1;function a(){var a,u,s=i.length,l=0,c=0,h=0;for(a=0;a<s;++a)l+=(u=i[a]).x||0,c+=u.y||0,h+=u.z||0;for(l=(l/s-n)*o,c=(c/s-e)*o,h=(h/s-r)*o,a=0;a<s;++a)u=i[a],l&&(u.x-=l),c&&(u.y-=c),h&&(u.z-=h)}return null==n&&(n=0),null==e&&(e=0),null==r&&(r=0),a.initialize=function(n){i=n},a.x=function(e){return arguments.length?(n=+e,a):n},a.y=function(n){return arguments.length?(e=+n,a):e},a.z=function(n){return arguments.length?(r=+n,a):r},a.strength=function(n){return arguments.length?(o=+n,a):o},a}()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,e){e.ctx=n},update:function(n){n.engineRunning=!1,n.onUpdate(),null!==n.nodeAutoColorBy&&or(n.graphData.nodes,rf(n.nodeAutoColorBy),n.nodeColor),null!==n.linkAutoColorBy&&or(n.graphData.links,rf(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(e){e.source=e[n.linkSource],e.target=e[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var e=n.forceLayout.force("link");e&&e.id(function(e){return e[n.nodeId]}).links(n.graphData.links);var r=n.dagMode&&function(n,e){var r=n.nodes,i=n.links,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.nodeFilter,u=void 0===a?function(){return!0}:a,s=o.onLoopError,l=void 0===s?function(n){throw"Invalid DAG structure! Found cycle in node path: ".concat(n.join(" -> "),".")}:s,c={};r.forEach(function(n){return c[e(n)]={data:n,out:[],depth:-1,skip:!u(n)}}),i.forEach(function(n){var r=n.source,i=n.target,o=l(r),a=l(i);if(!c.hasOwnProperty(o))throw"Missing source node with id: ".concat(o);if(!c.hasOwnProperty(a))throw"Missing target node with id: ".concat(a);var u=c[o],s=c[a];function l(n){return"object"===i6(n)?e(n):n}u.out.push(s)});var h=[];return function n(r){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=0,u=r.length;a<u;a++)if(function(){var u=r[a];if(-1!==i.indexOf(u)){var s=[].concat(i9(i.slice(i.indexOf(u))),[u]).map(function(n){return e(n.data)});return h.some(function(n){return n.length===s.length&&n.every(function(n,e){return n===s[e]})})||(h.push(s),l(s)),1}o>u.depth&&(u.depth=o,n(u.out,[].concat(i9(i),[u]),o+(u.skip?0:1)))}())continue}(Object.values(c)),Object.assign.apply(Object,[{}].concat(i9(Object.entries(c).filter(function(n){return!i7(n,2)[1].skip}).map(function(n){var e=i7(n,2);return i8({},e[0],e[1].depth)}))))}(n.graphData,function(e){return e[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),i=Math.max.apply(Math,i9(Object.values(r||[]))),o=n.dagLevelDistance||n.graphData.nodes.length/(i||1)*2*(-1!==["radialin","radialout"].indexOf(n.dagMode)?.7:1);if(n.dagMode){var a=function(e,a){return function(u){return e?(r[u[n.nodeId]]-i/2)*o*(a?-1:1):void 0}},u=a(-1!==["lr","rl"].indexOf(n.dagMode),"rl"===n.dagMode),s=a(-1!==["td","bu"].indexOf(n.dagMode),"bu"===n.dagMode);n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(n){n.fx=u(n),n.fy=s(n)})}n.forceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(n.dagMode)?(function(n,e,r,i){var o,a,u,s,l=r0(.1);function c(n){for(var l=0,c=o.length;l<c;++l){var h=o[l],f=h.x-e||1e-6,d=(h.y||0)-r||1e-6,p=(h.z||0)-i||1e-6,g=Math.sqrt(f*f+d*d+p*p),y=(s[l]-g)*u[l]*n/g;h.vx+=f*y,a>1&&(h.vy+=d*y),a>2&&(h.vz+=p*y)}}function h(){if(o){var e,r=o.length;for(e=0,u=Array(r),s=Array(r);e<r;++e)s[e]=+n(o[e],e,o),u[e]=isNaN(s[e])?0:+l(o[e],e,o)}}return"function"!=typeof n&&(n=r0(+n)),null==e&&(e=0),null==r&&(r=0),null==i&&(i=0),c.initialize=function(n,...e){o=n,a=e.find(n=>[1,2,3].includes(n))||2,h()},c.strength=function(n){return arguments.length?(l="function"==typeof n?n:r0(+n),h(),c):l},c.radius=function(e){return arguments.length?(n="function"==typeof e?e:r0(+e),h(),c):n},c.x=function(n){return arguments.length?(e=+n,c):e},c.y=function(n){return arguments.length?(r=+n,c):r},c.z=function(n){return arguments.length?(i=+n,c):i},c})(function(e){var a=r[e[n.nodeId]]||-1;return("radialin"===n.dagMode?i-a:a)*o}).strength(function(e){return n.dagNodeFilter(e)?1:0}):null);for(var l=0;l<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);l++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function ou(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(n){return{default:i[n](),onChange:function(e,i){r.forEach(function(r){return i[r][n](e)})},triggerUpdate:!1}},linkMethod:function(n){return function(e){for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var u=[];return r.forEach(function(r){var i=e[r],a=i[n].apply(i,o);a!==i&&u.push(a)}),u.length?u[0]:this}}}}var os=ou("forceGraph",oa),ol=ou(["forceGraph","shadowGraph"],oa),oc=Object.assign.apply(Object,i9(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return i8({},n,os.linkProp(n))})).concat(i9(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return i8({},n,ol.linkProp(n))})))),oh=Object.assign.apply(Object,i9(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return i8({},n,os.linkMethod(n))})));function of(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;300===e&&150===r&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(o){o.style.width="".concat(n.width,"px"),o.style.height="".concat(n.height,"px"),o.width=n.width*i,o.height=n.height*i,e||r||o.getContext("2d").scale(i,i)});var o=eb(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/o,(n.height-r)/2/o),n.needsRedraw=!0}}function od(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function op(n,e,r){n.save(),od(n),n.clearRect(0,0,e,r),n.restore()}var og=rh({props:i3({width:{default:window.innerWidth,onChange:function(n,e){return of(e)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,e){return of(e)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,e){[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(function(n){var r=n.type;n.objs.filter(function(n){if(!n.hasOwnProperty("__indexColor"))return!0;var r=e.colorTracker.lookup(n.__indexColor);return!r||!r.hasOwnProperty("d")||r.d!==n}).forEach(function(n){n.__indexColor=e.colorTracker.register({type:r,d:n})})}),e.forceGraph.graphData(n),e.shadowGraph.graphData(n)},triggerUpdate:!1},backgroundColor:{onChange:function(n,e){e.canvas&&n&&(e.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,e){e.shadowGraph.nodeCanvasObject(n?function(e,r,i){return n(e,e.__indexColor,r,i)}:null),e.flushShadowCanvas&&e.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,e){e.shadowGraph.linkCanvasObject(n?function(e,r,i){return n(e,e.__indexColor,r,i)}:null),e.flushShadowCanvas&&e.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,e){e.zoom.scaleExtent([n,e.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,e){e.zoom.scaleExtent([e.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,e){e.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},oc),aliases:{stopAnimation:"pauseAnimation"},methods:i3({graph2ScreenCoords:function(n,e,r){var i=eb(n.canvas);return{x:e*i.k+i.x,y:r*i.k+i.y}},screen2GraphCoords:function(n,e,r){var i=eb(n.canvas);return{x:(e-i.x)/i.k,y:(r-i.y)/i.k}},centerAt:function(n,e,r,i){if(!n.canvas)return null;if(void 0!==e||void 0!==r){var o=Object.assign({},void 0!==e?{x:e}:{},void 0!==r?{y:r}:{});return i?new ra(a()).to(o,i).easing(rt.Quadratic.Out).onUpdate(u).start():u(o),this}return a();function a(){var e=eb(n.canvas);return{x:(n.width/2-e.x)/e.k,y:(n.height/2-e.y)/e.k}}function u(e){var r=e.x,i=e.y;n.zoom.translateTo(n.zoom.__baseElem,void 0===r?a().x:r,void 0===i?a().y:i),n.needsRedraw=!0}},zoom:function(n,e,r){if(!n.canvas)return null;if(void 0!==e)return r?new ra({k:i()}).to({k:e},r).easing(rt.Quadratic.Out).onUpdate(function(n){return o(n.k)}).start():o(e),this;return i();function i(){return eb(n.canvas).k}function o(e){n.zoom.scaleTo(n.zoom.__baseElem,e),n.needsRedraw=!0}},zoomToFit:function(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length,o=Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var u=this.getGraphBbox.apply(this,o);if(u){var s={x:(u.x[0]+u.x[1])/2,y:(u.y[0]+u.y[1])/2},l=Math.max(1e-12,Math.min(1e12,(n.width-2*r)/(u.x[1]-u.x[0]),(n.height-2*r)/(u.y[1]-u.y[0])));this.centerAt(s.x,s.y,e),this.zoom(l,e)}return this},getGraphBbox:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},r=rf(n.nodeVal),i=n.graphData.nodes.filter(e).map(function(e){return{x:e.x,y:e.y,r:Math.sqrt(Math.max(0,r(e)||1))*n.nodeRelSize}});return i.length?{x:[eR(i,function(n){return n.x-n.r}),eD(i,function(n){return n.x+n.r})],y:[eR(i,function(n){return n.y-n.r}),eD(i,function(n){return n.y+n.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},oh),stateInit:function(){return{lastSetZoom:1,zoom:function(){var n,e,r,i=ek,o=eM,a=eO,u=ez,s=eS,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],h=250,f=tY,d=tU("start","zoom","end"),p=0,g=10;function y(n){n.property("__zoom",eA).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",A).filter(s).on("touchstart.zoom",z).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(n,e){return(e=Math.max(l[0],Math.min(l[1],e)))===n.k?n:new em(e,n.x,n.y)}function m(n,e,r){var i=e[0]-r[0]*n.k,o=e[1]-r[1]*n.k;return i===n.x&&o===n.y?n:new em(n.k,i,o)}function _(n){return[(+n[0][0]+ +n[1][0])/2,(+n[0][1]+ +n[1][1])/2]}function b(n,e,r,i){n.on("start.zoom",function(){x(this,arguments).event(i).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(i).end()}).tween("zoom",function(){var n=arguments,a=x(this,n).event(i),u=o.apply(this,n),s=null==r?_(u):"function"==typeof r?r.apply(this,n):r,l=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=this.__zoom,h="function"==typeof e?e.apply(this,n):e,d=f(c.invert(s).concat(l/c.k),h.invert(s).concat(l/h.k));return function(n){if(1===n)n=h;else{var e=d(n),r=l/e[2];n=new em(r,s[0]-e[0]*r,s[1]-e[1]*r)}a.zoom(null,n)}})}function x(n,e,r){return!r&&n.__zooming||new w(n,e)}function w(n,e){this.that=n,this.args=e,this.active=0,this.sourceEvent=null,this.extent=o.apply(n,e),this.taps=0}function k(n,...e){if(i.apply(this,arguments)){var r=x(this,e).event(n),o=this.__zoom,s=Math.max(l[0],Math.min(l[1],o.k*Math.pow(2,u.apply(this,arguments)))),h=tW(n);if(r.wheel)(r.mouse[0][0]!==h[0]||r.mouse[0][1]!==h[1])&&(r.mouse[1]=o.invert(r.mouse[0]=h)),clearTimeout(r.wheel);else{if(o.k===s)return;r.mouse=[h,o.invert(h)],nc(this),r.start()}ew(n),r.wheel=setTimeout(function(){r.wheel=null,r.end()},150),r.zoom("mouse",a(m(v(o,s),r.mouse[0],r.mouse[1]),r.extent,c))}}function M(n,...e){if(!r&&i.apply(this,arguments)){var o=n.currentTarget,u=x(this,e,!0).event(n),s=tD(n.view).on("mousemove.zoom",function(n){if(ew(n),!u.moved){var e=n.clientX-h,r=n.clientY-f;u.moved=e*e+r*r>p}u.event(n).zoom("mouse",a(m(u.that.__zoom,u.mouse[0]=tW(n,o),u.mouse[1]),u.extent,c))},!0).on("mouseup.zoom",function(n){s.on("mousemove.zoom mouseup.zoom",null),tG(n.view,u.moved),ew(n),u.event(n).end()},!0),l=tW(n,o),h=n.clientX,f=n.clientY;tV(n.view),ex(n),u.mouse=[l,this.__zoom.invert(l)],nc(this),u.start()}}function A(n,...e){if(i.apply(this,arguments)){var r=this.__zoom,u=tW(n.changedTouches?n.changedTouches[0]:n,this),s=r.invert(u),l=r.k*(n.shiftKey?.5:2),f=a(m(v(r,l),u,s),o.apply(this,e),c);ew(n),h>0?tD(this).transition().duration(h).call(b,f,u,n):tD(this).call(y.transform,f,u,n)}}function z(r,...o){if(i.apply(this,arguments)){var a,u,s,l,c=r.touches,h=c.length,f=x(this,o,r.changedTouches.length===h).event(r);for(ex(r),u=0;u<h;++u)l=[l=tW(s=c[u],this),this.__zoom.invert(l),s.identifier],f.touch0?f.touch1||f.touch0[2]===l[2]||(f.touch1=l,f.taps=0):(f.touch0=l,a=!0,f.taps=1+!!n);n&&(n=clearTimeout(n)),a&&(f.taps<2&&(e=l[0],n=setTimeout(function(){n=null},500)),nc(this),f.start())}}function S(n,...e){if(this.__zooming){var r,i,o,u,s=x(this,e).event(n),l=n.changedTouches,h=l.length;for(ew(n),r=0;r<h;++r)o=tW(i=l[r],this),s.touch0&&s.touch0[2]===i.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===i.identifier&&(s.touch1[0]=o);if(i=s.that.__zoom,s.touch1){var f=s.touch0[0],d=s.touch0[1],p=s.touch1[0],g=s.touch1[1],y=(y=p[0]-f[0])*y+(y=p[1]-f[1])*y,_=(_=g[0]-d[0])*_+(_=g[1]-d[1])*_;i=v(i,Math.sqrt(y/_)),o=[(f[0]+p[0])/2,(f[1]+p[1])/2],u=[(d[0]+g[0])/2,(d[1]+g[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],u=s.touch0[1]}s.zoom("touch",a(m(i,o,u),s.extent,c))}}function O(n,...i){if(this.__zooming){var o,a,u=x(this,i).event(n),s=n.changedTouches,l=s.length;for(ex(n),r&&clearTimeout(r),r=setTimeout(function(){r=null},500),o=0;o<l;++o)a=s[o],u.touch0&&u.touch0[2]===a.identifier?delete u.touch0:u.touch1&&u.touch1[2]===a.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),2===u.taps&&(a=tW(a,this),Math.hypot(e[0]-a[0],e[1]-a[1])<g)){var c=tD(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return y.transform=function(n,e,r,i){var o=n.selection?n.selection():n;o.property("__zoom",eA),n!==o?b(n,e,r,i):o.interrupt().each(function(){x(this,arguments).event(i).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},y.scaleBy=function(n,e,r,i){y.scaleTo(n,function(){var n=this.__zoom.k,r="function"==typeof e?e.apply(this,arguments):e;return n*r},r,i)},y.scaleTo=function(n,e,r,i){y.transform(n,function(){var n=o.apply(this,arguments),i=this.__zoom,u=null==r?_(n):"function"==typeof r?r.apply(this,arguments):r,s=i.invert(u),l="function"==typeof e?e.apply(this,arguments):e;return a(m(v(i,l),u,s),n,c)},r,i)},y.translateBy=function(n,e,r,i){y.transform(n,function(){return a(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),o.apply(this,arguments),c)},null,i)},y.translateTo=function(n,e,r,i,u){y.transform(n,function(){var n=o.apply(this,arguments),u=this.__zoom,s=null==i?_(n):"function"==typeof i?i.apply(this,arguments):i;return a(e_.translate(s[0],s[1]).scale(u.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof r?-r.apply(this,arguments):-r),n,c)},i,u)},w.prototype={event:function(n){return n&&(this.sourceEvent=n),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(n,e){return this.mouse&&"mouse"!==n&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==n&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==n&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(n){var e=tD(this.that).datum();d.call(n,this.that,new ev(n,{sourceEvent:this.sourceEvent,target:y,type:n,transform:this.that.__zoom,dispatch:d}),e)}},y.wheelDelta=function(n){return arguments.length?(u="function"==typeof n?n:ey(+n),y):u},y.filter=function(n){return arguments.length?(i="function"==typeof n?n:ey(!!n),y):i},y.touchable=function(n){return arguments.length?(s="function"==typeof n?n:ey(!!n),y):s},y.extent=function(n){return arguments.length?(o="function"==typeof n?n:ey([[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]]),y):o},y.scaleExtent=function(n){return arguments.length?(l[0]=+n[0],l[1]=+n[1],y):[l[0],l[1]]},y.translateExtent=function(n){return arguments.length?(c[0][0]=+n[0][0],c[1][0]=+n[1][0],c[0][1]=+n[0][1],c[1][1]=+n[1][1],y):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},y.constrain=function(n){return arguments.length?(a=n,y):a},y.duration=function(n){return arguments.length?(h=+n,y):h},y.interpolate=function(n){return arguments.length?(f=n,y):f},y.on=function(){var n=d.on.apply(d,arguments);return n===d?y:n},y.clickDistance=function(n){return arguments.length?(p=(n=+n)*n,y):Math.sqrt(p)},y.tapDistance=function(n){return arguments.length?(g=+n,y):g},y}(),forceGraph:new oa,shadowGraph:new oa().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new rY}},init:function(n,e){var r=this;n.innerHTML="";var i=document.createElement("div");i.classList.add("force-graph-container"),i.style.position="relative",n.appendChild(i),e.canvas=document.createElement("canvas"),e.backgroundColor&&(e.canvas.style.background=e.backgroundColor),i.appendChild(e.canvas),e.shadowCanvas=document.createElement("canvas");var o=e.canvas.getContext("2d"),a=e.shadowCanvas.getContext("2d",{willReadFrequently:!0}),u={x:-1e12,y:-1e12},s=function(){var n=null,r=window.devicePixelRatio,i=u.x>0&&u.y>0?a.getImageData(u.x*r,u.y*r,1,1):null;return i&&(n=e.colorTracker.lookup(i.data)),n};tD(e.canvas).call((function(){var n,e,r,i,o=eP,a=eN,u=eT,s=ej,l={},c=tU("start","drag","end"),h=0,f=0;function d(n){n.on("mousedown.drag",p).filter(s).on("touchstart.drag",v).on("touchmove.drag",m,tq).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(u,s){if(!i&&o.call(this,u,s)){var l=b(this,a.call(this,u,s),u,s,"mouse");l&&(tD(u.view).on("mousemove.drag",g,tB).on("mouseup.drag",y,tB),tV(u.view),t$(u),r=!1,n=u.clientX,e=u.clientY,l("start",u))}}function g(i){if(tH(i),!r){var o=i.clientX-n,a=i.clientY-e;r=o*o+a*a>f}l.mouse("drag",i)}function y(n){tD(n.view).on("mousemove.drag mouseup.drag",null),tG(n.view,r),tH(n),l.mouse("end",n)}function v(n,e){if(o.call(this,n,e)){var r,i,u=n.changedTouches,s=a.call(this,n,e),l=u.length;for(r=0;r<l;++r)(i=b(this,s,n,e,u[r].identifier,u[r]))&&(t$(n),i("start",n,u[r]))}}function m(n){var e,r,i=n.changedTouches,o=i.length;for(e=0;e<o;++e)(r=l[i[e].identifier])&&(tH(n),r("drag",n,i[e]))}function _(n){var e,r,o=n.changedTouches,a=o.length;for(i&&clearTimeout(i),i=setTimeout(function(){i=null},500),e=0;e<a;++e)(r=l[o[e].identifier])&&(t$(n),r("end",n,o[e]))}function b(n,e,r,i,o,a){var s,f,p,g=c.copy(),y=tW(a||r,e);if(null!=(p=u.call(n,new eE("beforestart",{sourceEvent:r,target:d,identifier:o,active:h,x:y[0],y:y[1],dx:0,dy:0,dispatch:g}),i)))return s=p.x-y[0]||0,f=p.y-y[1]||0,function r(a,u,c){var v,m=y;switch(a){case"start":l[o]=r,v=h++;break;case"end":delete l[o],--h;case"drag":y=tW(c||u,e),v=h}g.call(a,n,new eE(a,{sourceEvent:u,subject:p,target:d,identifier:o,active:v,x:y[0]+s,y:y[1]+f,dx:y[0]-m[0],dy:y[1]-m[1],dispatch:g}),i)}}return d.filter=function(n){return arguments.length?(o="function"==typeof n?n:eC(!!n),d):o},d.container=function(n){return arguments.length?(a="function"==typeof n?n:eC(n),d):a},d.subject=function(n){return arguments.length?(u="function"==typeof n?n:eC(n),d):u},d.touchable=function(n){return arguments.length?(s="function"==typeof n?n:eC(!!n),d):s},d.on=function(){var n=c.on.apply(c,arguments);return n===c?d:n},d.clickDistance=function(n){return arguments.length?(f=(n=+n)*n,d):Math.sqrt(f)},d})().subject(function(){if(!e.enableNodeDrag)return null;var n=s();return n&&"Node"===n.type?n.d:null}).on("start",function(n){var r=n.subject;r.__initialDragPos={x:r.x,y:r.y,fx:r.fx,fy:r.fy},n.active||(r.fx=r.x,r.fy=r.y),e.canvas.classList.add("grabbable")}).on("drag",function(n){var r=n.subject,i=r.__initialDragPos,o=eb(e.canvas).k,a={x:i.x+(n.x-i.x)/o-r.x,y:i.y+(n.y-i.y)/o-r.y};["x","y"].forEach(function(e){return r["f".concat(e)]=r[e]=i[e]+(n[e]-i[e])/o}),e.forceGraph.d3AlphaTarget(.3).resetCountdown(),e.isPointerDragging=!0,r.__dragged=!0,e.onNodeDrag(r,a)}).on("end",function(n){var r=n.subject,i=r.__initialDragPos,o={x:r.x-i.x,y:r.y-i.y};void 0===i.fx&&(r.fx=void 0),void 0===i.fy&&(r.fy=void 0),delete r.__initialDragPos,e.forceGraph.d3AlphaTarget()&&e.forceGraph.d3AlphaTarget(0).resetCountdown(),e.canvas.classList.remove("grabbable"),e.isPointerDragging=!1,r.__dragged&&(delete r.__dragged,e.onNodeDragEnd(r,o))})),e.zoom(e.zoom.__baseElem=tD(e.canvas)),e.zoom.__baseElem.on("dblclick.zoom",null),e.zoom.filter(function(n){return!n.button&&e.enableZoomPanInteraction&&(e.enableZoomInteraction||"wheel"!==n.type)&&(e.enablePanInteraction||"wheel"===n.type)}).on("zoom",function(n){var i=n.transform;[o,a].forEach(function(n){od(n),n.translate(i.x,i.y),n.scale(i.k,i.k)}),e.onZoom&&e.onZoom(i3(i3({},i),r.centerAt())),e.needsRedraw=!0}).on("end",function(n){return e.onZoomEnd&&e.onZoomEnd(i3(i3({},n.transform),r.centerAt()))}),of(e),e.forceGraph.onNeedsRedraw(function(){return e.needsRedraw=!0}).onFinishUpdate(function(){eb(e.canvas).k===e.lastSetZoom&&e.graphData.nodes.length&&(e.zoom.scaleTo(e.zoom.__baseElem,e.lastSetZoom=4/Math.cbrt(e.graphData.nodes.length)),e.needsRedraw=!0)});var l=document.createElement("div");l.classList.add("graph-tooltip"),i.appendChild(l),["pointermove","pointerdown"].forEach(function(n){return i.addEventListener(n,function(r){"pointerdown"===n&&(e.isPointerPressed=!0,e.pointerDownEvent=r),!e.isPointerDragging&&"pointermove"===r.type&&e.onBackgroundClick&&(r.pressure>0||e.isPointerPressed)&&("touch"!==r.pointerType||void 0===r.movementX||[r.movementX,r.movementY].some(function(n){return Math.abs(n)>1}))&&(e.isPointerDragging=!0);var o,a,s,c=(o=i.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop,{top:o.top+s,left:o.left+a});u.x=r.pageX-c.left,u.y=r.pageY-c.top,l.style.top="".concat(u.y,"px"),l.style.left="".concat(u.x,"px"),l.style.transform="translate(-".concat(u.x/e.width*100,"%, ").concat(e.height-u.y<100?"calc(-100% - 8px)":"21px",")")},{passive:!0})}),i.addEventListener("pointerup",function(n){if(e.isPointerPressed=!1,e.isPointerDragging){e.isPointerDragging=!1;return}var r=[n,e.pointerDownEvent];requestAnimationFrame(function(){if(0===n.button){if(e.hoverObj){var i=e["on".concat(e.hoverObj.type,"Click")];i&&i.apply(void 0,[e.hoverObj.d].concat(r))}else e.onBackgroundClick&&e.onBackgroundClick.apply(e,r)}if(2===n.button){if(e.hoverObj){var o=e["on".concat(e.hoverObj.type,"RightClick")];o&&o.apply(void 0,[e.hoverObj.d].concat(r))}else e.onBackgroundRightClick&&e.onBackgroundRightClick.apply(e,r)}})},{passive:!0}),i.addEventListener("contextmenu",function(n){return!e.onBackgroundRightClick&&!e.onNodeRightClick&&!e.onLinkRightClick||(n.preventDefault(),!1)}),e.forceGraph(o),e.shadowGraph(a);var c=e9(function(){op(a,e.width,e.height),e.shadowGraph.linkWidth(function(n){return rf(e.linkWidth)(n)+e.linkHoverPrecision});var n=eb(e.canvas);e.shadowGraph.globalScale(n.k).tickFrame()},800);e.flushShadowCanvas=c.flush,(this._animationCycle=function n(){var r=!e.autoPauseRedraw||!!e.needsRedraw||e.forceGraph.isEngineRunning()||e.graphData.links.some(function(n){return n.__photons&&n.__photons.length});if(e.needsRedraw=!1,e.enablePointerInteraction){var i=e.isPointerDragging?null:s();if(i!==e.hoverObj){var a=e.hoverObj,u=a?a.type:null,h=i?i.type:null;if(u&&u!==h){var f=e["on".concat(u,"Hover")];f&&f(null,a.d)}if(h){var d=e["on".concat(h,"Hover")];d&&d(i.d,u===h?a.d:null)}var p=i&&rf(e["".concat(i.type.toLowerCase(),"Label")])(i.d)||"";l.style.visibility=p?"visible":"hidden",l.innerHTML=p,e.canvas.classList[i&&e["on".concat(h,"Click")]||!i&&e.onBackgroundClick?"add":"remove"]("clickable"),e.hoverObj=i}r&&c()}if(r){op(o,e.width,e.height);var g=eb(e.canvas).k;e.onRenderFramePre&&e.onRenderFramePre(o,g),e.forceGraph.globalScale(g).tickFrame(),e.onRenderFramePost&&e.onRenderFramePost(o,g)}ru(),e.animationFrameRequestId=requestAnimationFrame(n)})()},update:function(n){}}),oy=r(74275);let ov={width:oy.number,height:oy.number,graphData:oy.shape({nodes:oy.arrayOf(oy.object).isRequired,links:oy.arrayOf(oy.object).isRequired}),backgroundColor:oy.string,nodeRelSize:oy.number,nodeId:oy.string,nodeLabel:oy.oneOfType([oy.string,oy.func]),nodeVal:oy.oneOfType([oy.number,oy.string,oy.func]),nodeVisibility:oy.oneOfType([oy.bool,oy.string,oy.func]),nodeColor:oy.oneOfType([oy.string,oy.func]),nodeAutoColorBy:oy.oneOfType([oy.string,oy.func]),onNodeHover:oy.func,onNodeClick:oy.func,linkSource:oy.string,linkTarget:oy.string,linkLabel:oy.oneOfType([oy.string,oy.func]),linkVisibility:oy.oneOfType([oy.bool,oy.string,oy.func]),linkColor:oy.oneOfType([oy.string,oy.func]),linkAutoColorBy:oy.oneOfType([oy.string,oy.func]),linkWidth:oy.oneOfType([oy.number,oy.string,oy.func]),linkCurvature:oy.oneOfType([oy.number,oy.string,oy.func]),linkDirectionalArrowLength:oy.oneOfType([oy.number,oy.string,oy.func]),linkDirectionalArrowColor:oy.oneOfType([oy.string,oy.func]),linkDirectionalArrowRelPos:oy.oneOfType([oy.number,oy.string,oy.func]),linkDirectionalParticles:oy.oneOfType([oy.number,oy.string,oy.func]),linkDirectionalParticleSpeed:oy.oneOfType([oy.number,oy.string,oy.func]),linkDirectionalParticleWidth:oy.oneOfType([oy.number,oy.string,oy.func]),linkDirectionalParticleColor:oy.oneOfType([oy.string,oy.func]),onLinkHover:oy.func,onLinkClick:oy.func,dagMode:oy.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:oy.number,dagNodeFilter:oy.func,onDagError:oy.func,d3AlphaMin:oy.number,d3AlphaDecay:oy.number,d3VelocityDecay:oy.number,warmupTicks:oy.number,cooldownTicks:oy.number,cooldownTime:oy.number,onEngineTick:oy.func,onEngineStop:oy.func,getGraphBbox:oy.func},om={zoomToFit:oy.func,onNodeRightClick:oy.func,onNodeDrag:oy.func,onNodeDragEnd:oy.func,onLinkRightClick:oy.func,linkHoverPrecision:oy.number,onBackgroundClick:oy.func,onBackgroundRightClick:oy.func,enablePointerInteraction:oy.bool,enableNodeDrag:oy.bool},o_={showNavInfo:oy.bool,nodeOpacity:oy.number,nodeResolution:oy.number,nodeThreeObject:oy.oneOfType([oy.object,oy.string,oy.func]),nodeThreeObjectExtend:oy.oneOfType([oy.bool,oy.string,oy.func]),linkOpacity:oy.number,linkResolution:oy.number,linkCurveRotation:oy.oneOfType([oy.number,oy.string,oy.func]),linkMaterial:oy.oneOfType([oy.object,oy.string,oy.func]),linkThreeObject:oy.oneOfType([oy.object,oy.string,oy.func]),linkThreeObjectExtend:oy.oneOfType([oy.bool,oy.string,oy.func]),linkPositionUpdate:oy.func,linkDirectionalArrowResolution:oy.number,linkDirectionalParticleResolution:oy.number,forceEngine:oy.oneOf(["d3","ngraph"]),ngraphPhysics:oy.object,numDimensions:oy.oneOf([1,2,3])},ob=Object.assign({},ov,om,{linkLineDash:oy.oneOfType([oy.arrayOf(oy.number),oy.string,oy.func]),nodeCanvasObjectMode:oy.oneOfType([oy.string,oy.func]),nodeCanvasObject:oy.func,nodePointerAreaPaint:oy.func,linkCanvasObjectMode:oy.oneOfType([oy.string,oy.func]),linkCanvasObject:oy.func,linkPointerAreaPaint:oy.func,autoPauseRedraw:oy.bool,minZoom:oy.number,maxZoom:oy.number,enableZoomInteraction:oy.bool,enablePanInteraction:oy.bool,onZoom:oy.func,onZoomEnd:oy.func,onRenderFramePre:oy.func,onRenderFramePost:oy.func});Object.assign({},ov,om,o_,{enableNavigationControls:oy.bool,controlType:oy.oneOf(["trackball","orbit","fly"]),rendererConfig:oy.object,extraRenderers:oy.arrayOf(oy.shape({render:oy.func.isRequired}))}),Object.assign({},ov,o_,{nodeDesc:oy.oneOfType([oy.string,oy.func]),linkDesc:oy.oneOfType([oy.string,oy.func])}),Object.assign({},ov,o_,{markerAttrs:oy.object,yOffset:oy.number,glScale:oy.number});let ox=function(n,e){var r="object"===b(e)?e:{wrapperElementType:e,methodNames:(arguments.length<=2?void 0:arguments[2])||void 0,initPropNames:(arguments.length<=3?void 0:arguments[3])||void 0},i=r.wrapperElementType,o=void 0===i?"div":i,a=r.nodeMapper,u=void 0===a?function(n){return n}:a,s=r.methodNames,l=void 0===s?[]:s,c=r.initPropNames,h=void 0===c?[]:c;return(0,p.forwardRef)(function(e,r){var i=(0,p.useRef)(),a=x((0,p.useState)({}),2),s=a[0],c=a[1];(0,p.useEffect)(function(){return c(e)});var f=(0,p.useMemo)(function(){return n(_(h.filter(function(n){return e.hasOwnProperty(n)}).map(function(n){return[n,e[n]]})))},[]);A(function(){f(u(i.current))},p.useLayoutEffect),A(function(){return f._destructor instanceof Function?f._destructor:void 0});var d=(0,p.useCallback)(function(n){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return f[n]instanceof Function?f[n].apply(f,r):void 0},[f]);return Object.keys(m(e,[].concat(w(l),w(h)))).filter(function(n){return s[n]!==e[n]}).forEach(function(n){return d(n,e[n])}),(0,p.useImperativeHandle)(r,function(){return _(l.map(function(n){return[n,function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return d.apply(void 0,[n].concat(r))}]}))}),p.createElement(o,{ref:i})})}(og,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});ox.displayName="ForceGraph2D",ox.propTypes=ob}}]);