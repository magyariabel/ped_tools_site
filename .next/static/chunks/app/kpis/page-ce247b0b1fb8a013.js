(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{90517:function(e,t,l){Promise.resolve().then(l.t.bind(l,46685,23)),Promise.resolve().then(l.bind(l,53665))},53665:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return h}});var s=l(57437),a=l(2265),n=l(24033),o=l(60729);async function i(e){let t=(0,o.L)(),l=t.session();try{let t=await l.run("\n      MATCH (k:KPI {Node: $id})\n      OPTIONAL MATCH (k)-[:be_calculated_by]->(t:Tools)\n      OPTIONAL MATCH (k)-[:connected_to]->(s:Stakeholder_roles)\n      OPTIONAL MATCH (k)-[r]-(n)\n      RETURN k.Node as id, k.Node as name, k.Label as description,\n             k.Calculation_method as calculationMethod,\n             collect(DISTINCT {id: t.Node, name: t.Node}) as relatedTools,\n             collect(DISTINCT {id: s.Node, name: s.Node}) as relatedStakeholders,\n             collect(DISTINCT {source: k.Node, target: n.Node, type: type(r)}) as relationships\n      ",{id:e}),s=t.records[0];return{id:s.get("id"),name:s.get("name"),description:s.get("description"),calculationMethod:s.get("calculationMethod"),relatedTools:s.get("relatedTools"),relatedStakeholders:s.get("relatedStakeholders"),relationships:{nodes:[{id:s.get("id"),group:"kpi"},...s.get("relatedTools").map(e=>({...e,group:"tool"})),...s.get("relatedStakeholders").map(e=>({...e,group:"stakeholder"}))],links:s.get("relationships")}}}finally{await l.close()}}var d=l(98864),r=l.n(d);let c=r()(()=>l.e(379).then(l.bind(l,72379)),{loadableGenerated:{webpack:()=>[72379]},ssr:!1});function h(){let e=(0,n.useParams)(),[t,l]=(0,a.useState)(null);return((0,a.useEffect)(()=>{if(e.id){let t=Array.isArray(e.id)?e.id[0]:e.id;i(t).then(l)}},[e.id]),t)?(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:t.name}),(0,s.jsx)("p",{className:"mb-4",children:t.description}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Calculation Method"}),(0,s.jsx)("p",{className:"mb-4",children:t.calculationMethod}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Related Tools"}),(0,s.jsx)("ul",{className:"list-disc pl-5 mb-4",children:t.relatedTools.map(e=>(0,s.jsx)("li",{children:e.name},e.id))}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Related Stakeholders"}),(0,s.jsx)("ul",{className:"list-disc pl-5 mb-4",children:t.relatedStakeholders.map(e=>(0,s.jsx)("li",{children:e.name},e.id))}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Relationships"}),(0,s.jsx)(c,{data:t.relationships})]}):(0,s.jsx)("div",{children:"Select a KPI to view details"})}},60729:function(e,t,l){"use strict";l.d(t,{L:function(){return c}});var s=l(45369),a=l.n(s),n=l(25566);let o=n.env.NEO4J_URI,i=n.env.NEO4J_USERNAME,d=n.env.NEO4J_PASSWORD,r=a().driver(o,a().auth.basic(i,d));function c(){return r}}},function(e){e.O(0,[685,99,971,596,744],function(){return e(e.s=90517)}),_N_E=e.O()}]);