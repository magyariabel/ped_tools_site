(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{61160:function(e,t,n){Promise.resolve().then(n.t.bind(n,46685,23)),Promise.resolve().then(n.bind(n,36799))},36799:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var s=n(57437),i=n(2265),l=n(24033),o=n(60729);async function r(e){let t=(0,o.L)(),n=t.session();try{let t=await n.run("\n      MATCH (i:`Intervention points` {Node: $id})\n      OPTIONAL MATCH (s:Stakeholder_roles)-[:involved_in]->(i)\n      OPTIONAL MATCH (k:KPI)-[:belongs_to]->(i)\n      OPTIONAL MATCH (t:Tools)<-[:uses_tool]-(i)\n      OPTIONAL MATCH (i)-[r]-(n)\n      RETURN i.Node as id, i.Node as name, i.Label as description,\n             collect(DISTINCT {id: s.Node, name: s.Node}) as relatedStakeholders,\n             collect(DISTINCT {id: k.Node, name: k.Node}) as relatedKPIs,\n             collect(DISTINCT {id: t.Node, name: t.Node}) as relatedTools,\n             collect(DISTINCT {source: i.Node, target: n.Node, type: type(r)}) as relationships\n      ",{id:e});if(0===t.records.length)throw Error("Intervention point not found");let s=t.records[0];return{id:s.get("id"),name:s.get("name"),description:s.get("description"),relatedStakeholders:s.get("relatedStakeholders"),relatedKPIs:s.get("relatedKPIs"),relatedTools:s.get("relatedTools"),relationships:{nodes:[{id:s.get("id"),group:"interventionPoint"},...s.get("relatedStakeholders").map(e=>({...e,group:"stakeholder"})),...s.get("relatedKPIs").map(e=>({...e,group:"kpi"})),...s.get("relatedTools").map(e=>({...e,group:"tool"}))],links:s.get("relationships")}}}catch(e){throw console.error("Error fetching intervention point details:",e),e}finally{await n.close()}}var a=n(98864),d=n.n(a);let c=d()(()=>n.e(379).then(n.bind(n,72379)),{loadableGenerated:{webpack:()=>[72379]},ssr:!1});function h(){let e=(0,l.useParams)(),[t,n]=(0,i.useState)(null),[o,a]=(0,i.useState)(!0),[d,h]=(0,i.useState)(null);return((0,i.useEffect)(()=>{e.id&&(a(!0),r(Array.isArray(e.id)?e.id[0]:e.id).then(n).catch(h).finally(()=>a(!1)))},[e.id]),o)?(0,s.jsx)("div",{children:"Loading intervention point details..."}):d?(0,s.jsxs)("div",{children:["Error loading intervention point details: ",d.message]}):t?(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:t.name}),(0,s.jsx)("p",{className:"mb-4",children:t.description}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Related Stakeholders"}),(0,s.jsx)("ul",{className:"list-disc pl-5 mb-4",children:t.relatedStakeholders.map(e=>(0,s.jsx)("li",{children:e.name},e.id))}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Related KPIs"}),(0,s.jsx)("ul",{className:"list-disc pl-5 mb-4",children:t.relatedKPIs.map(e=>(0,s.jsx)("li",{children:e.name},e.id))}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Related Tools"}),(0,s.jsx)("ul",{className:"list-disc pl-5 mb-4",children:t.relatedTools.map(e=>(0,s.jsx)("li",{children:e.name},e.id))}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Relationships"}),(0,s.jsx)(c,{data:t.relationships})]}):(0,s.jsx)("div",{children:"No intervention point found"})}},60729:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var s=n(45369),i=n.n(s),l=n(25566);let o=l.env.NEO4J_URI,r=l.env.NEO4J_USERNAME,a=l.env.NEO4J_PASSWORD,d=i().driver(o,i().auth.basic(r,a));function c(){return d}}},function(e){e.O(0,[685,99,971,596,744],function(){return e(e.s=61160)}),_N_E=e.O()}]);