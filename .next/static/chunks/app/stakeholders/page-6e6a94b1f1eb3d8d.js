(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68],{41511:function(e,s,t){Promise.resolve().then(t.t.bind(t,46685,23)),Promise.resolve().then(t.bind(t,85327))},85327:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var n=t(57437),l=t(2265),i=t(24033),a=t(60729);async function d(e){let s=(0,a.L)(),t=s.session();try{let s=await t.run("\n      MATCH (s:Stakeholder_roles {Node: $id})\n      OPTIONAL MATCH (s)-[:connected_to]->(k:KPI)\n      OPTIONAL MATCH (s)-[:uses]->(t:Tools)\n      OPTIONAL MATCH (s)-[r]-(n)\n      RETURN s.Node as id, s.Node as name, s.Label as description,\n             collect(DISTINCT {id: k.Node, name: k.Node}) as relatedKPIs,\n             collect(DISTINCT {id: t.Node, name: t.Node}) as relatedTools,\n             collect(DISTINCT {source: s.Node, target: n.Node, type: type(r)}) as relationships\n      ",{id:e}),n=s.records[0];return{id:n.get("id"),name:n.get("name"),description:n.get("description"),relatedKPIs:n.get("relatedKPIs"),relatedTools:n.get("relatedTools"),relationships:{nodes:[{id:n.get("id"),group:"stakeholder"},...n.get("relatedKPIs").map(e=>({...e,group:"kpi"})),...n.get("relatedTools").map(e=>({...e,group:"tool"}))],links:n.get("relationships")}}}finally{await t.close()}}var o=t(98864),r=t.n(o);let c=r()(()=>t.e(379).then(t.bind(t,72379)),{loadableGenerated:{webpack:()=>[72379]},ssr:!1});function u(){let e=(0,i.useParams)(),[s,t]=(0,l.useState)(null);return((0,l.useEffect)(()=>{if(e.id){let s=Array.isArray(e.id)?e.id[0]:e.id;d(s).then(t)}},[e.id]),s)?(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",children:s.name}),(0,n.jsx)("p",{className:"mb-4",children:s.description}),(0,n.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Related KPIs"}),(0,n.jsx)("ul",{className:"list-disc pl-5 mb-4",children:s.relatedKPIs.map(e=>(0,n.jsx)("li",{children:e.name},e.id))}),(0,n.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Related Tools"}),(0,n.jsx)("ul",{className:"list-disc pl-5 mb-4",children:s.relatedTools.map(e=>(0,n.jsx)("li",{children:e.name},e.id))}),(0,n.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Relationships"}),(0,n.jsx)(c,{data:s.relationships})]}):(0,n.jsx)("div",{children:"Select a stakeholder to view details"})}},60729:function(e,s,t){"use strict";t.d(s,{L:function(){return c}});var n=t(45369),l=t.n(n),i=t(25566);let a=i.env.NEO4J_URI,d=i.env.NEO4J_USERNAME,o=i.env.NEO4J_PASSWORD,r=l().driver(a,l().auth.basic(d,o));function c(){return r}}},function(e){e.O(0,[685,99,971,596,744],function(){return e(e.s=41511)}),_N_E=e.O()}]);